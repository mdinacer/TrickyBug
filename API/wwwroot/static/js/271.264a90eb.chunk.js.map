{"version":3,"file":"static/js/271.264a90eb.chunk.js","mappings":"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","sources":["app/util/flattenObject.ts","app/components/Tickets/TicketForm.tsx","app/components/common/Dropdown.tsx","app/components/projects/projectDetails/ProjectTickets.tsx","app/models/enums.ts","app/util/enumToArray.ts","../node_modules/@heroicons/react/solid/esm/ChevronDownIcon.js"],"sourcesContent":["export const flattenObj = (ob: any) => {\n\n    // The object which contains the\n    // final result\n    let result: any = {};\n\n    // loop through the object \"ob\"\n    for (const i in ob) {\n\n        // We check the type of the i using\n        // typeof() function and recursively\n        // call the function again\n        if ((typeof ob[i]) === 'object' && !Array.isArray(ob[i])) {\n            const temp = flattenObj(ob[i]);\n            for (const j in temp) {\n\n                // Store temp in result\n                result[i + '.' + j] = temp[j];\n            }\n        }\n\n        // Else store ob[i] in result directly\n        else {\n            result[i] = ob[i];\n        }\n    }\n    return result;\n};","import { useCallback, useEffect, useState } from \"react\";\nimport { FieldValues, useForm } from \"react-hook-form\";\nimport agent from \"../../api/agent\";\nimport {\n  IssueNature,\n  IssueOccurrence,\n  IssueSeverity,\n  TicketPriority,\n  TicketStatus,\n} from \"../../models/enums\";\nimport { ProjectMember } from \"../../models/member\";\nimport { Project } from \"../../models/project\";\nimport { ProjectTicketFull } from \"../../models/ticket\";\nimport { EnumToArray } from \"../../util/enumToArray\";\nimport { flattenObj } from \"../../util/flattenObject\";\nimport Dropdown from \"../common/Dropdown\";\nimport MediaDropZone from \"../common/MediaDropZone\";\nimport AppTextArea from \"../common/TextArea\";\nimport AppTextInput from \"../common/TextInput\";\n\ninterface Props {\n  projectId: string;\n  ticketId?: number | null;\n  isFullScreen?: boolean;\n  onClose: () => void;\n}\n\nexport default function TicketForm({ projectId, ticketId, onClose }: Props) {\n  const [ticket, setTicket] = useState<ProjectTicketFull | null>(null);\n  const isEdit = !!ticket;\n  const [project, setProject] = useState<Project | null>(null);\n  const projectLoaded = !!project;\n  const [members, setMembers] = useState<{ name: string; value: string }[]>([]);\n  const {\n    control,\n    watch,\n    handleSubmit,\n    reset,\n    setValue,\n    formState: { isDirty },\n  } = useForm({\n    mode: \"all\",\n  });\n  const watchFile = watch(\"file\", null);\n  const loadMembers = useCallback(async (id: string) => {\n    try {\n      const result = await agent.Projects.listMembers(id);\n      const items = result.map((member: ProjectMember) => ({\n        name: member.userName,\n        value: member.userId,\n      }));\n      setMembers(items);\n    } catch (error) {\n      console.log(error);\n    }\n  }, []);\n\n  const loadProject = useCallback(\n    async (id: string) => {\n      try {\n        const project = await agent.Projects.detailsById(id);\n        setProject(project);\n        setValue(\"projectId\", project.id);\n        await loadMembers(project.id);\n      } catch (error) {\n        console.log(error);\n      }\n    },\n    [loadMembers, setValue]\n  );\n\n  const loadTicket = useCallback(async (id: number) => {\n    try {\n      const result = await agent.Tickets.details(id);\n      setTicket(result);\n      console.log(\"ticket\", result);\n    } catch (error) {\n      console.log(error);\n    }\n  }, []);\n\n  useEffect(() => {\n    if (projectId) {\n      loadProject(projectId);\n    }\n  }, [loadProject, projectId]);\n\n  useEffect(() => {\n    if (ticketId) {\n      loadTicket(ticketId);\n    }\n  }, [loadTicket, ticketId]);\n\n  useEffect(() => {\n    if (ticket && !watchFile && !isDirty) {\n      reset(ticket);\n    }\n\n    return () => {\n      if (watchFile) URL.revokeObjectURL(watchFile.preview);\n    };\n  }, [isDirty, reset, ticket, watchFile]);\n\n  const handleOnChange = (name: any, value: any) => {\n    setValue(name, value);\n  };\n\n  async function handleSubmitData(data: FieldValues) {\n    if (!projectLoaded) return;\n    const { file, description } = data; //{ ...data, projectId: project.id };\n\n    const obj = {\n      id: ticket ? ticket.id : 0,\n      subject: data.subject,\n      body: data.body,\n      priority: data.priority,\n      projectId: project.id,\n      status: data.status,\n      assignedMemberId: data.assignedMemberId,\n      description,\n    };\n\n    const flatObj = { ...flattenObj(obj), \"description.file\": file };\n    if (!project) return;\n    try {\n      if (isEdit) {\n        await agent.Tickets.update(flatObj);\n      }\n\n      if (!isEdit) {\n        await agent.Tickets.create(flatObj);\n      }\n    } catch (error) {\n      console.log(error);\n    } finally {\n      onClose();\n    }\n  }\n\n  return (\n    <div className=\"lg:fixed top-0 left-0 h-full min-h-screen w-screen bg-slate-100 z-[5] px-5 lg:px-0 flex items-center  py-20\">\n      <div className=\"container mx-auto flex flex-col max-w-4xl\">\n        <div className=\"flex flex-col lg:flex-row justify-between border-b border-b-white py-1 lg:items-end \">\n          <p className=\"font-Oswald text-5xl uppercase\">\n            {isEdit ? \"Edit Ticket\" : \"New Ticket\"}\n          </p>\n          <p className=\"font-Oswald text-xl uppercase font-thin\">\n            {project?.title}\n          </p>\n        </div>\n\n        <form\n          onSubmit={handleSubmit(handleSubmitData)}\n          className=\"w-full flex flex-col gap-y-5\"\n        >\n          <div className=\"grid grid-cols-1 lg:grid-cols-2 text-black  lg:gap-x-10\">\n            <div className=\"flex flex-col gap-y-5 py-5\">\n              <AppTextInput\n                type=\"text\"\n                control={control}\n                label=\"Ticket Title\"\n                placeholder=\"Ticket Title\"\n                name=\"subject\"\n                fullWidth\n                rules={{\n                  required: \"Subject is required\",\n                }}\n              />\n              <AppTextInput\n                type=\"text\"\n                control={control}\n                label=\"Operating System\"\n                placeholder=\"Operating System\"\n                name=\"description.operatingSystem\"\n                fullWidth\n              />\n\n              <AppTextInput\n                type=\"text\"\n                control={control}\n                label=\"Browser\"\n                placeholder=\"Browser\"\n                name=\"description.browser\"\n                fullWidth\n              />\n\n              <AppTextArea\n                rows={7}\n                type=\"text\"\n                control={control}\n                label=\"Ticket Description\"\n                placeholder=\"Ticket Description\"\n                name=\"body\"\n                fullWidth\n                rules={{\n                  required: \"Description is required\",\n                }}\n              />\n            </div>\n            <div className=\"flex flex-col gap-y-5 py-5\">\n              <div className=\" w-full flex flex-col  gap-y-5 \">\n                <Dropdown\n                  title=\"Priority\"\n                  fullWidth\n                  items={EnumToArray(TicketPriority)}\n                  onChange={(value) => handleOnChange(\"priority\", value)}\n                  selectedValue={ticket?.priority}\n                />\n                {isEdit && (\n                  <Dropdown\n                    title=\"Status\"\n                    fullWidth\n                    items={EnumToArray(TicketStatus)}\n                    onChange={(value) => handleOnChange(\"status\", value)}\n                    selectedValue={ticket?.status}\n                  />\n                )}\n                {isEdit && (\n                  <Dropdown\n                    title=\"Assigned Member\"\n                    fullWidth\n                    items={members}\n                    onChange={(value) =>\n                      handleOnChange(\"assignedMemberId\", value)\n                    }\n                    selectedValue={ticket?.assignedMember}\n                  />\n                )}\n                <Dropdown\n                  title=\"Occurrence\"\n                  fullWidth\n                  items={EnumToArray(IssueOccurrence)}\n                  onChange={(value) =>\n                    handleOnChange(\"description.occurrence\", value)\n                  }\n                  selectedValue={ticket?.description.occurrence}\n                />\n                <Dropdown\n                  title=\"Severity\"\n                  fullWidth\n                  items={EnumToArray(IssueSeverity)}\n                  onChange={(value) =>\n                    handleOnChange(\"description.severity\", value)\n                  }\n                  selectedValue={ticket?.description.severity}\n                />\n                <Dropdown\n                  title=\"Nature\"\n                  fullWidth\n                  items={EnumToArray(IssueNature)}\n                  onChange={(value) =>\n                    handleOnChange(\"description.nature\", value)\n                  }\n                  selectedValue={ticket?.description.nature}\n                />\n              </div>\n            </div>\n          </div>\n\n          <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-x-10 lg:h-[200px]\">\n            <div className=\"h-auto border-x-2 px-5 py-5 border-x-white text-white bg-slate-500 bg-opacity-50 flex-auto\">\n              <MediaDropZone control={control} name=\"file\" />\n            </div>\n            <div className=\"flex flex-row h-full w-full border-x-2 px-5 border-x-white text-white bg-slate-500 bg-opacity-50\">\n              <div className=\" mx-auto flex items-center justify-center\">\n                {watchFile ? (\n                  <img\n                    className=\" object-auto w-auto object-center max-h-[200px]\"\n                    src={watchFile.preview}\n                    alt=\"preview\"\n                  />\n                ) : (\n                  <img\n                    className=\" object-auto w-auto object-center max-h-[200px]\"\n                    src={ticket?.description.photo}\n                    alt={ticket?.subject}\n                  />\n                )}\n              </div>\n            </div>\n          </div>\n          <div className=\"flex flex-row gap-x-0 mx-auto w-full justify-center lg:justify-end py-5\">\n            <input\n              className=\"cursor-pointer border-slate-800 border-2 text-slate-800 py-1 px-5 uppercase font-Oswald text-xl font-thin\"\n              type=\"button\"\n              value=\"Cancel\"\n              onClick={onClose}\n            />\n            <input\n              className=\"cursor-pointer bg-slate-800 text-white py-1 px-5 uppercase font-Oswald text-xl font-thin\"\n              type=\"submit\"\n              value={isEdit ? \"Update Ticket\" : \"Create Ticket\"}\n            />\n          </div>\n        </form>\n      </div>\n    </div>\n  );\n}\n","import { ChevronDownIcon } from \"@heroicons/react/solid\";\nimport { useEffect, useState } from \"react\";\n\ninterface Props {\n  title: string;\n  items: { name: string; value: string | number }[];\n  fullWidth?: boolean;\n  onChange: (value: any) => void;\n  selectedValue: any;\n  addAllItem?: boolean;\n}\n\nconst styles = {\n  dropdownContainer: \"relative border-x-2 border-x-slate-200 bg-slate-200\",\n  dropdownButton:\n    \"pb-2 pt-3 px-5 font-Oswald font-thin inline-flex justify-between items-center w-full\",\n  dropdownButtonText:\n    \"flex flex-row items-center justify-between w-full gap-x-5 text-lg lg:text-2xl\",\n  dropdownButtonPlaceholder: \"text-lg lg:text-2xl text-gray-400\",\n  inputValidationStyle:\n    \"h-auto font-Oswald text-lg leading-none w-full font-thin px-5 py-0 text-gray-600\",\n  dropdownButtonIcon: \"w-8 h-8 ml-2 text-inherit\",\n  dropdownListContainer:\n    \"absolute bg-white text-base z-50 drop-shadow-md list-none divide-y  divide-gray-100 rounded shadow my-4  w-full px-5\",\n  dropdownList: \"py-5 list-none flex flex-col gap-y-2 font-Montserrat\",\n  dropdownListItem:\n    \"font-Montserrat text-left text-black text-lg font-thin cursor-pointer\",\n};\n\nexport default function Dropdown({\n  title,\n  items,\n  fullWidth = false,\n  onChange,\n  selectedValue,\n}: Props) {\n  const [isOpen, setIsOpen] = useState(false);\n  const [selectedItem, setSelectedItem] = useState<{\n    name: string;\n    value: string | number;\n  } | null>(null);\n\n  useEffect(() => {\n    if (selectedValue && selectedItem == null) {\n      const item = items.find((i) => i.name === selectedValue);\n      setSelectedItem(item ? item : null);\n    }\n  }, [items, selectedItem, selectedValue]);\n\n  type ItemType = { name: string; value: string | number };\n\n  const handleOnSelectItem = (item: ItemType) => {\n    setSelectedItem(item);\n    onChange(item.value);\n    setIsOpen(false);\n  };\n  return (\n    <div\n      className={`\n    ${fullWidth ? \"w-full\" : \"max-w-sm w-full\"}\n    ${!selectedValue ? \"border-x-red-500\" : \"border-x-white\"}  \n    ${styles.dropdownContainer}`}\n    >\n      <button\n        type=\"button\"\n        className={styles.dropdownButton}\n        onClick={() => setIsOpen((prev) => !prev)}\n      >\n        {selectedItem ? (\n          <p className={styles.dropdownButtonText}>\n            <span className=\"text-gray-500  text-xl  capitalize \">\n              {title}{\" \"}\n            </span>\n            <span className=\"uppercase text-inherit\">{selectedItem.name}</span>\n          </p>\n        ) : (\n          <p className={styles.dropdownButtonPlaceholder}>{title}</p>\n        )}\n        <ChevronDownIcon className={styles.dropdownButtonIcon} />\n      </button>\n\n      <div\n        className={`${isOpen ? \"block \" : \"hidden\"}  ${\n          styles.dropdownListContainer\n        }`}\n        id=\"dropdown\"\n      >\n        <ul className={styles.dropdownList} aria-labelledby=\"dropdown\">\n          {items.map((item) => (\n            <li\n              key={item.value}\n              value={item.value}\n              onClick={() => handleOnSelectItem(item)}\n              className={styles.dropdownListItem}\n            >\n              {item.name}\n            </li>\n          ))}\n        </ul>\n      </div>\n    </div>\n  );\n}\n","import { lazy, useCallback, useEffect, useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport agent from \"../../../api/agent\";\nimport { ProjectTicket } from \"../../../models/ticket\";\nimport TicketForm from \"../../Tickets/TicketForm\";\n\nconst TicketsList = lazy(() => import(\"../../Tickets/TicketsList\"));\n\ninterface Props {\n  projectId: string;\n  projectSlug: string;\n  isPermitted: boolean;\n}\n\nexport default function ProjectRecentTickets({\n  projectId,\n  isPermitted,\n}: Props) {\n  const [tickets, setTickets] = useState<ProjectTicket[]>([]);\n  const [loaded, setLoaded] = useState(false);\n  const [selectedTicketId, setSelectedTicketId] = useState<number | null>(null);\n  const [isOpen, setIsOpen] = useState(false);\n\n  const loadProjectTickets = useCallback(() => {\n    agent.Projects.listRecentTickets(projectId)\n      .then((response) => {\n        setTickets(response);\n      })\n      .catch((err) => console.log(err))\n      .finally(() => setLoaded(false));\n  }, [projectId]);\n\n  useEffect(() => {\n    if (projectId && !loaded) {\n      loadProjectTickets();\n    }\n    return () => {\n      setTickets([]);\n    };\n  }, [loadProjectTickets, loaded, projectId]);\n\n  const handleOnClose = () => {\n    loadProjectTickets();\n    if (selectedTicketId) setSelectedTicketId(null);\n    setIsOpen(false);\n  };\n\n  function handleOnTicketSelect(id: number) {\n    setSelectedTicketId(id);\n    setIsOpen(true);\n  }\n\n  if (isOpen && projectId)\n    return (\n      <TicketForm\n        projectId={projectId}\n        onClose={handleOnClose}\n        ticketId={selectedTicketId}\n      />\n    );\n  return (\n    <div className=\"relative h-full flex flex-col overflow-hidden\">\n      <div className=\"flex-initial flex flex-col lg:flex-row lg:items-end justify-between px-5 lg:px-0\">\n        <p className=\"font-Oswald text-3xl font-thin uppercase leading-loose\">\n          Recent Tickets\n        </p>\n        <div className=\"flex flex-row self-start gap-x-2\">\n          {isPermitted && (\n            <button\n              onClick={() => setIsOpen(true)}\n              className=\"px-2 py-1 bg-slate-600 text-white\"\n              type=\"button\"\n            >\n              <p className=\"font-Oswald text-lg font-thin uppercase\">\n                Add Ticket\n              </p>\n            </button>\n          )}\n          <Link\n            className=\"px-2 py-1 bg-slate-600 text-white\"\n            to={{\n              pathname: `/tickets`,\n              search: `?projectId=${projectId}`,\n            }}\n          >\n            <p className=\"font-Oswald text-lg font-thin uppercase\">\n              View Tickets\n            </p>\n          </Link>\n        </div>\n      </div>\n      <div className=\"px-5\">\n        {tickets.length > 0 ? (\n          <TicketsList\n            tickets={tickets}\n            onActionSelected={handleOnTicketSelect}\n          />\n        ) : (\n          <div className=\"h-40 w-full flex items-center justify-center\">\n            <p className=\"font-Montserrat text-xl text-gray-400\">EMPTY</p>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n","export enum IssueOccurrence {\n    Persistent,\n    Frequent,\n    Random,\n    Rare\n}\n\nexport enum TicketStatus {\n    New,\n    Assigned,\n    Open,\n    Fixed,\n    Pending,\n    Retest,\n    Verified,\n    Reopen,\n    Closed,\n    Duplicate,\n    Rejected,\n    Deferred,\n    NotBug\n}\n\nexport enum TicketPriority {\n    Low,\n    Medium,\n    High,\n    Urgent\n}\n\nexport enum IssueSeverity {\n    Low,\n    Medium,\n    High,\n    Critical\n}\n\nexport enum IssueNature {\n    Functional,\n    Performance,\n    Usability,\n    Compatibility,\n    Security\n}","export function EnumToArray(object: any): { name: string, value: any }[] {\n    const arrayObjects = [];\n\n    for (const [propertyKey, propertyValue] of Object.entries(object)) {\n        if (!Number.isNaN(Number(propertyKey))) {\n            continue;\n        }\n        arrayObjects.push({ name: propertyKey, value: propertyValue });\n    }\n    return arrayObjects;\n}","import * as React from \"react\";\n\nfunction ChevronDownIcon(props, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 20 20\",\n    fill: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    ref: svgRef\n  }, props), /*#__PURE__*/React.createElement(\"path\", {\n    fillRule: \"evenodd\",\n    d: \"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z\",\n    clipRule: \"evenodd\"\n  }));\n}\n\nconst ForwardRef = React.forwardRef(ChevronDownIcon);\nexport default ForwardRef;"],"names":["flattenObj","ob","result","i","Array","isArray","temp","j","TicketForm","projectId","ticketId","onClose","useState","ticket","setTicket","isEdit","project","setProject","projectLoaded","members","setMembers","useForm","mode","control","watch","handleSubmit","reset","setValue","isDirty","formState","watchFile","loadMembers","useCallback","id","agent","items","map","member","name","userName","value","userId","console","log","loadProject","loadTicket","useEffect","URL","revokeObjectURL","preview","handleOnChange","data","file","description","obj","subject","body","priority","status","assignedMemberId","flatObj","className","title","onSubmit","type","label","placeholder","fullWidth","rules","required","rows","Dropdown","EnumToArray","TicketPriority","onChange","selectedValue","TicketStatus","assignedMember","IssueOccurrence","occurrence","IssueSeverity","severity","IssueNature","nature","MediaDropZone","src","alt","photo","onClick","styles","isOpen","setIsOpen","selectedItem","setSelectedItem","item","find","prev","handleOnSelectItem","TicketsList","lazy","ProjectRecentTickets","isPermitted","tickets","setTickets","loaded","setLoaded","selectedTicketId","setSelectedTicketId","loadProjectTickets","then","response","catch","err","finally","to","pathname","search","length","onActionSelected","object","arrayObjects","Object","entries","propertyKey","propertyValue","Number","isNaN","push","ForwardRef","React","props","svgRef","assign","xmlns","viewBox","fill","ref","fillRule","d","clipRule"],"sourceRoot":""}