{"version":3,"file":"static/js/206.07d65b1c.chunk.js","mappings":"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","sources":["app/components/Tickets/TicketsFilters.tsx","../node_modules/@heroicons/react/solid/esm/ChevronDownIcon.js","app/components/common/Dropdown.tsx","app/components/common/TextInput.tsx","app/models/enums.ts","app/models/ticketParams.ts","app/pages/projects/ProjectTicketsPage.tsx","app/util/enumToArray.ts","app/util/queryParams.ts"],"sourcesContent":["import { useEffect } from \"react\";\nimport { FieldValues, useForm } from \"react-hook-form\";\nimport { useSearchParams } from \"react-router-dom\";\nimport { TicketPriority, TicketStatus } from \"../../models/enums\";\nimport { TicketParams } from \"../../models/ticketParams\";\nimport { setTicketParams } from \"../../slices/ticketSlice\";\nimport { useAppDispatch } from \"../../store/configureStore\";\nimport { EnumToArray } from \"../../util/enumToArray\";\nimport Dropdown from \"../common/Dropdown\";\nimport AppTextInput from \"../common/TextInput\";\n\ninterface Props {\n  params: TicketParams;\n  setParams: (value: any) => void;\n}\n\nexport default function TicketsFilters({ params, setParams }: Props) {\n  const dispatch = useAppDispatch();\n  const [searchParams] = useSearchParams();\n  const startDate = searchParams.get(\"startDate\");\n  const endDate = searchParams.get(\"endDate\");\n  const { control, handleSubmit } = useForm({\n    mode: \"all\",\n    //resolver: yupResolver<any>(productValidation)\n  });\n\n  useEffect(() => {\n    if (startDate || endDate) {\n      setParams({ startDate, endDate });\n    }\n  }, [endDate, setParams, startDate]);\n\n  function handleSubmitData(data: FieldValues) {\n    dispatch(setTicketParams(data));\n  }\n\n  return (\n    <div className=\"w-full flex flex-row  justify-around items-center  py-5\">\n      <form onSubmit={handleSubmit(handleSubmitData)} className=\"flex flex-row\">\n        <AppTextInput\n          control={control}\n          label=\"search\"\n          placeholder=\"search\"\n          name=\"searchTerm\"\n        />\n        <input\n          className=\"cursor-pointer bg-slate-800 text-white py-1 px-5 uppercase font-Oswald text-xl font-thin\"\n          type=\"submit\"\n          value={\"Search\"}\n        />\n      </form>\n\n      <Dropdown\n        title=\"Status\"\n        selectedValue={\"All\"}\n        onChange={(value) =>\n          setParams({ status: value === \"-1\" ? null : value })\n        }\n        items={[{ name: \"All\", value: \"-1\" }, ...EnumToArray(TicketStatus)]}\n      />\n\n      <Dropdown\n        title=\"Priority\"\n        selectedValue={\"All\"}\n        onChange={(value) =>\n          setParams({ priority: value === \"-1\" ? null : value })\n        }\n        items={[{ name: \"All\", value: \"-1\" }, ...EnumToArray(TicketPriority)]}\n      />\n    </div>\n  );\n}\n","import * as React from \"react\";\n\nfunction ChevronDownIcon(props, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 20 20\",\n    fill: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    ref: svgRef\n  }, props), /*#__PURE__*/React.createElement(\"path\", {\n    fillRule: \"evenodd\",\n    d: \"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z\",\n    clipRule: \"evenodd\"\n  }));\n}\n\nconst ForwardRef = React.forwardRef(ChevronDownIcon);\nexport default ForwardRef;","import { ChevronDownIcon } from \"@heroicons/react/solid\";\nimport { useEffect, useState } from \"react\";\n\ninterface Props {\n  title: string;\n  items: { name: string; value: string | number }[];\n  fullWidth?: boolean;\n  onChange: (value: any) => void;\n  selectedValue: any;\n  addAllItem?: boolean;\n}\n\nconst styles = {\n  dropdownContainer: \"relative border-x-2 border-x-slate-200 bg-slate-500\",\n  dropdownButton:\n    \"pb-2 pt-3 px-5 font-Oswald font-thin inline-flex justify-between items-center w-full\",\n  dropdownButtonText:\n    \"flex flex-row items-center justify-between w-full gap-x-5 text-2xl\",\n  dropdownButtonPlaceholder: \"text-2xl text-gray-300\",\n  inputValidationStyle:\n    \"h-auto font-Oswald text-lg leading-none w-full font-thin px-5 py-0 text-gray-600\",\n  dropdownButtonIcon: \"w-8 h-8 ml-2 text-white\",\n  dropdownListContainer:\n    \"absolute bg-white text-base z-50 drop-shadow-md list-none divide-y  divide-gray-100 rounded shadow my-4  w-full px-5\",\n  dropdownList: \"py-5 list-none flex flex-col gap-y-2 font-Montserrat\",\n  dropdownListItem:\n    \"font-Montserrat text-left text-black text-lg font-thin cursor-pointer\",\n};\n\nexport default function Dropdown({\n  title,\n  items,\n  fullWidth = false,\n  onChange,\n  selectedValue,\n}: Props) {\n  const [isOpen, setIsOpen] = useState(false);\n  const [selectedItem, setSelectedItem] = useState<{\n    name: string;\n    value: string | number;\n  } | null>(null);\n\n  useEffect(() => {\n    if (selectedValue && selectedItem == null) {\n      const item = items.find((i) => i.name === selectedValue);\n      setSelectedItem(item ? item : null);\n    }\n  }, [items, selectedItem, selectedValue]);\n\n  type ItemType = { name: string; value: string | number };\n\n  const handleOnSelectItem = (item: ItemType) => {\n    setSelectedItem(item);\n    onChange(item.value);\n    setIsOpen(false);\n  };\n  return (\n    <div\n      className={`\n    ${fullWidth ? \"w-full\" : \"max-w-sm w-full\"}\n    ${!selectedValue ? \"border-x-red-500\" : \"border-x-white\"}  \n    ${styles.dropdownContainer}`}\n    >\n      <button\n        type=\"button\"\n        className={styles.dropdownButton}\n        onClick={() => setIsOpen((prev) => !prev)}\n      >\n        {selectedItem ? (\n          <p className={styles.dropdownButtonText}>\n            <span className=\"text-gray-300 opacity-50  capitalize \">\n              {title}{\" \"}\n            </span>\n            <span className=\"uppercase text-white\">{selectedItem.name}</span>\n          </p>\n        ) : (\n          <p className={styles.dropdownButtonPlaceholder}>{title}</p>\n        )}\n        <ChevronDownIcon className={styles.dropdownButtonIcon} />\n      </button>\n\n      <div\n        className={`${isOpen ? \"block \" : \"hidden\"}  ${\n          styles.dropdownListContainer\n        }`}\n        id=\"dropdown\"\n      >\n        <ul className={styles.dropdownList} aria-labelledby=\"dropdown\">\n          {items.map((item) => (\n            <li\n              key={item.value}\n              value={item.value}\n              onClick={() => handleOnSelectItem(item)}\n              className={styles.dropdownListItem}\n            >\n              {item.name}\n            </li>\n          ))}\n        </ul>\n      </div>\n    </div>\n  );\n}\n","import { useController, UseControllerProps } from \"react-hook-form\";\n\ninterface Props extends UseControllerProps {\n  label: string;\n  type?: string;\n  placeholder: string;\n  fullWidth?: boolean;\n}\n\nconst styles = {\n  inputContainer:\n    \" border-x-2 border-x-slate-200 bg-slate-500 flex flex-row items-center \",\n  inputStyle:\n    \" font-Montserrat font-thin text-2xl text-white placeholder:capitalize placeholder:text-gray-300 placeholder:opacity-50 placeholder:font-Oswald pb-2 pt-3 px-5 w-full h-auto block bg-transparent focus-within:outline-none \",\n  inputValidationStyle:\n    \" h-auto font-Oswald text-xl leading-none w-full text-center font-thin px-5 py-0 text-red-200 \",\n};\n\nexport default function AppTextInput(props: Props) {\n  const { fieldState, field } = useController({ ...props, defaultValue: \"\" });\n\n  return (\n    <div\n      className={` ${props.fullWidth ? \"w-full\" : \"w-full max-w-sm\"} ${\n        fieldState.error ? \"border-r-red-500\" : \"border-x-white\"\n      } ${styles.inputContainer}`}\n    >\n      <input\n        className={styles.inputStyle}\n        aria-label={props.label}\n        type={props.type}\n        {...props}\n        {...field}\n      />\n      {fieldState.error && (\n        <p className={styles.inputValidationStyle}>\n          {fieldState.error.message}\n        </p>\n      )}\n    </div>\n  );\n}\n","export enum IssueOccurrence {\n    Persistent,\n    Frequent,\n    Random,\n    Rare\n}\n\nexport enum TicketStatus {\n    New,\n    Assigned,\n    Open,\n    Fixed,\n    Pending,\n    Retest,\n    Verified,\n    Reopen,\n    Closed,\n    Duplicate,\n    Rejected,\n    Deferred,\n    NotBug\n}\n\nexport enum TicketPriority {\n    Low,\n    Medium,\n    High,\n    Urgent\n}\n\nexport enum IssueSeverity {\n    Low,\n    Medium,\n    High,\n    Critical\n}\n\nexport enum IssueNature {\n    Functional,\n    Performance,\n    Usability,\n    Compatibility,\n    Security\n}","export interface TicketParams {\n    status: string | null;\n    priority: number | null;\n    startDate: string | null;\n    endDate: string | null;\n    orderBy: string;\n    searchTerm: string | null;\n    pageNumber: number,\n    pageSize: number,\n}\n\nexport class TicketParamsInitial implements TicketParams {\n    status = null;\n    priority = null;\n    startDate = null;\n    endDate = null;\n    orderBy = \"date\";\n    searchTerm = null;\n    pageNumber = 1;\n    pageSize = 10;\n\n}","import { format } from \"date-fns\";\nimport { useCallback, useEffect, useState } from \"react\";\nimport { Link, useLocation, useParams } from \"react-router-dom\";\nimport agent from \"../../api/agent\";\nimport LoadingComponent from \"../../components/common/LoadingComponent\";\nimport TicketsFilters from \"../../components/Tickets/TicketsFilters\";\nimport { TicketStatus, TicketPriority } from \"../../models/enums\";\nimport { Project } from \"../../models/project\";\nimport { ProjectTicket } from \"../../models/ticket\";\nimport { TicketParams, TicketParamsInitial } from \"../../models/ticketParams\";\nimport { getTicketsParams } from \"../../util/queryParams\";\n\nexport default function ProjectTicketsPage() {\n  const { slug } = useParams<{ slug: string }>();\n  const [project, setProject] = useState<Project | undefined>(undefined);\n  const [loaded, setLoaded] = useState(false);\n  const [tickets, setTickets] = useState<ProjectTicket[]>([]);\n  const [loading, setLoading] = useState(false);\n  const [ticketParams, setTicketParams] = useState<TicketParams>(\n    new TicketParamsInitial()\n  );\n  const { state }: any | null = useLocation();\n  const fromPhase = state?.fromPhase ?? false;\n  useEffect(() => {\n    setLoading(true);\n    if (slug) {\n      agent.Projects.details(slug)\n        .then((response) => {\n          setProject(response);\n        })\n        .catch((err) => console.log(err))\n        .finally(() => setLoading(false));\n    }\n    return () => {\n      setProject(undefined);\n    };\n  }, [slug]);\n\n  const loadTickets = useCallback(\n    (id: string) => {\n      setLoading(true);\n      const params = getTicketsParams(ticketParams);\n      agent.Projects.listTickets(id, params)\n        .then((response) => {\n          setTickets(response);\n        })\n        .catch((err) => console.log(err))\n        .finally(() => {\n          setLoaded(true);\n          setLoading(false);\n        });\n    },\n    [ticketParams]\n  );\n\n  useEffect(() => {\n    if (project && !loaded) {\n      loadTickets(project.id);\n    }\n\n    return () => {\n      setTickets([]);\n    };\n  }, [loadTickets, loaded, project]);\n\n  useEffect(() => {\n    if (project && ticketParams) {\n      console.log(ticketParams);\n\n      loadTickets(project.id);\n    }\n  }, [loadTickets, project, ticketParams]);\n\n  if (loading)\n    return (\n      <div className=\"py-20 w-screen h-screen bg-slate-300 flex items-center justify-center\">\n        <LoadingComponent message={\"Loading Tickets...\"} />\n      </div>\n    );\n  if (!project) return <div className=\"py-20\">Not Found</div>;\n\n  return (\n    <div className=\"h-full min-h-screen w-screen bg-slate-300 pb-10 pt-20 \">\n      <div className=\"container mx-auto flex flex-col  w-full rounded-md overflow-hidden max-w-5xl\">\n        <p className=\"text-2xl font-Oswald uppercase underline underline-offset-2 \">\n          Tickets\n        </p>\n        <h1 className=\"flex-initial text-5xl font-Oswald mb-10 uppercase\">\n          {project.title}\n        </h1>\n\n        {!fromPhase && (\n          <TicketsFilters\n            params={ticketParams}\n            setParams={(value) => setTicketParams(value)}\n          />\n        )}\n\n        {tickets.length > 0 ? (\n          <ul className=\"list-none flex flex-col py-5 gap-y-4\">\n            {tickets.map((ticket) => (\n              <li key={ticket.id} className=\"list-item\">\n                <Link\n                  to={`/tickets/${ticket.id}`}\n                  className=\"flex flex-row justify-start border-b px-5  border-b-black hover:border-red-700 hover:text-white hover:bg-red-500 transition-all duration-200\"\n                >\n                  <p className=\"font-Oswald text-xl font-thin w-full max-w-xs\">\n                    {format(new Date(ticket.creationDate), \"dd-MM-yy\")}\n                  </p>\n                  <p className=\" font-Montserrat flex flex-row gap-x-2\">\n                    <span className=\" text-lg\">{ticket.subject}</span>\n                    <span className=\" text-sm\">\n                      ({TicketStatus[ticket.status]})\n                    </span>\n                  </p>\n                  <p className=\"ml-auto font-Oswald uppercase font-thin text-lg\">\n                    {TicketPriority[ticket.priority]}\n                  </p>\n                </Link>\n              </li>\n            ))}\n          </ul>\n        ) : (\n          <div className=\"h-20 w-full flex items-center justify-center\">\n            <p className=\"font-Montserrat text-lg\">\n              This project have no tickets\n            </p>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n","export function EnumToArray(object: any): { name: string, value: any }[] {\n    const arrayObjects = [];\n\n    for (const [propertyKey, propertyValue] of Object.entries(object)) {\n        if (!Number.isNaN(Number(propertyKey))) {\n            continue;\n        }\n        arrayObjects.push({ name: propertyKey, value: propertyValue });\n    }\n    return arrayObjects;\n}","import { PaginationParams } from \"../models/pagingParams\";\nimport { TicketParams } from \"../models/ticketParams\";\n\nexport function getTicketsParams(ticketParams: TicketParams) {\n    const params = new URLSearchParams();\n    params.append(\"pageNumber\", ticketParams.pageNumber.toString());\n    params.append(\"pageSize\", ticketParams.pageSize.toString());\n    params.append(\"orderBy\", ticketParams.orderBy);\n\n    if (ticketParams.searchTerm) {\n        params.append(\"searchTerm\", ticketParams.searchTerm);\n    }\n\n    if (ticketParams.status) {\n        params.append(\"status\", ticketParams.status.toString());\n    }\n\n    if (ticketParams.priority) {\n        params.append(\"priority\", ticketParams.priority.toString());\n    }\n\n    if (ticketParams.startDate) {\n        params.append(\"startDate\", ticketParams.startDate);\n    }\n\n    if (ticketParams.endDate) {\n        params.append(\"endDate\", ticketParams.endDate);\n    }\n    return params;\n}\n\nexport function getPaginationParams(paginationParams: PaginationParams) {\n    const params = new URLSearchParams();\n    params.append(\"pageNumber\", paginationParams.pageNumber.toString());\n    params.append(\"pageSize\", paginationParams.pageSize.toString());\n    if (paginationParams.searchTerm) {\n        params.append(\"searchTerm\", paginationParams.searchTerm);\n    }\n    return params;\n}"],"names":["TicketsFilters","params","setParams","dispatch","useAppDispatch","useSearchParams","searchParams","startDate","get","endDate","useForm","mode","control","handleSubmit","useEffect","className","onSubmit","data","setTicketParams","label","placeholder","name","type","value","title","selectedValue","onChange","status","items","EnumToArray","TicketStatus","priority","TicketPriority","React","props","svgRef","Object","assign","xmlns","viewBox","fill","ref","fillRule","d","clipRule","styles","Dropdown","fullWidth","useState","isOpen","setIsOpen","selectedItem","setSelectedItem","item","find","i","onClick","prev","id","map","handleOnSelectItem","AppTextInput","useController","defaultValue","fieldState","field","error","message","IssueOccurrence","IssueSeverity","IssueNature","TicketParamsInitial","orderBy","searchTerm","pageNumber","pageSize","ProjectTicketsPage","slug","useParams","undefined","project","setProject","loaded","setLoaded","tickets","setTickets","loading","setLoading","ticketParams","state","useLocation","fromPhase","agent","then","response","catch","err","console","log","finally","loadTickets","useCallback","getTicketsParams","LoadingComponent","length","ticket","to","format","Date","creationDate","subject","object","arrayObjects","entries","propertyKey","propertyValue","Number","isNaN","push","URLSearchParams","append","toString","getPaginationParams","paginationParams"],"sourceRoot":""}