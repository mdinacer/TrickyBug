{"version":3,"file":"static/js/539.0da03129.chunk.js","mappings":"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","sources":["app/components/common/AppPagination.tsx","app/components/common/LoadingComponentSmall.tsx","app/hooks/useTickets.tsx","app/pages/Tickets/TicketsPage.tsx"],"sourcesContent":["import { ChevronLeftIcon, ChevronRightIcon } from \"@heroicons/react/solid\";\nimport { useState } from \"react\";\nimport ReactPaginate from \"react-paginate\";\nimport { MetaData } from \"../../models/pagination\";\n\ninterface Props {\n  metaData: MetaData;\n  onPageChange: (page: number) => void;\n}\n\nexport default function AppPagination({ metaData, onPageChange }: Props) {\n  const { currentPage, totalItems, totalPages, itemsPerPage } = metaData;\n  const [pageNumber, setPageNumber] = useState(currentPage);\n\n  function handlePageChange(page: number) {\n    setPageNumber(page);\n    onPageChange(page);\n  }\n\n  return (\n    <div className=\" border-x-2 border-x-inherit px-10 text-inherit w-auto h-auto\">\n      {metaData && metaData.totalPages > 1 && (\n        <div className=\"flex flex-row justify-between items-center\">\n          <p className=\"font-Oswald font-thin text-xl\">\n            Showing {(currentPage - 1) * itemsPerPage + 1} to{\" \"}\n            {(currentPage - 1) * itemsPerPage > totalItems\n              ? totalItems\n              : currentPage * itemsPerPage}{\" \"}\n            of {totalItems} items\n          </p>\n          <ReactPaginate\n            className=\"flex flex-row items-center gap-x-3 py-2 px-5 w-auto \"\n            forcePage={pageNumber - 1}\n            pageClassName=\"font-thin\"\n            activeClassName=\"font-normal\"\n            pageLinkClassName={\"p-2 font-Oswald  text-inherit text-xl\"}\n            breakLabel=\"...\"\n            nextLabel={<ChevronRightIcon className=\"h-6 w-6\" />}\n            onPageChange={({ selected }) => {\n              console.log(selected);\n\n              handlePageChange(selected);\n            }}\n            pageRangeDisplayed={3}\n            pageCount={totalPages}\n            previousLabel={<ChevronLeftIcon className=\"h-6 w-6\" />}\n          />\n        </div>\n      )}\n    </div>\n  );\n}\n","import Spinner from \"./Spinner\";\n\ninterface Props {\n  message?: string;\n}\n\nexport default function LoadingComponentSmall({ message = \"Loading\" }: Props) {\n  return (\n    <div className=\"relative  w-full h-full flex items-center justify-center\">\n      <div>\n        <Spinner />\n        <p className=\" font-Oswald text-5xl py-10 uppercase\">{message}</p>\n      </div>\n    </div>\n  );\n}\n","import { useEffect } from \"react\";\nimport { fetchTicketsAsync, ticketSelectors } from \"../slices/ticketSlice\";\nimport { useAppDispatch, useAppSelector } from \"../store/configureStore\";\n\nexport default function useTickets() {\n  const tickets = useAppSelector(ticketSelectors.selectAll);\n  const { ticketsLoaded, metaData, ticketParams } = useAppSelector(\n    (state) => state.ticket\n  );\n  const dispatch = useAppDispatch();\n\n  useEffect(() => {\n    if (!ticketsLoaded) {\n      dispatch(fetchTicketsAsync());\n    }\n  }, [dispatch, tickets, ticketsLoaded]);\n  return {\n    tickets,\n    ticketParams,\n    ticketsLoaded,\n    metaData,\n  };\n}\n","import { lazy, useEffect } from \"react\";\nimport { useSearchParams } from \"react-router-dom\";\nimport AppPagination from \"../../components/common/AppPagination\";\nimport LoadingComponentSmall from \"../../components/common/LoadingComponentSmall\";\nimport useTickets from \"../../hooks/useTickets\";\nimport { TicketParams } from \"../../models/ticketParams\";\nimport {\n  resetTicketParams,\n  setPageNumber,\n  setTicketParams,\n} from \"../../slices/ticketSlice\";\nimport { useAppDispatch } from \"../../store/configureStore\";\n\nconst TicketsFilters = lazy(\n  () => import(\"../../components/Tickets/TicketsFilters\")\n);\nconst TicketsGrid = lazy(() => import(\"../../components/Tickets/TicketsGrid\"));\n\nexport default function TicketsPage() {\n  const { tickets, ticketsLoaded, ticketParams, metaData } = useTickets();\n  const [searchParams] = useSearchParams();\n  const projectId = searchParams.get(\"projectId\");\n  const startDate = searchParams.get(\"startDate\");\n  const endDate = searchParams.get(\"endDate\");\n  const dispatch = useAppDispatch();\n\n  const handleChangParams = (value: TicketParams) => {\n    dispatch(setTicketParams(value));\n  };\n\n  useEffect(() => {\n    if (projectId) {\n      dispatch(setTicketParams({ projectId }));\n    } else {\n      dispatch(resetTicketParams());\n    }\n  }, [dispatch, projectId]);\n  useEffect(() => {\n    if (startDate) {\n      dispatch(setTicketParams({ startDate, endDate }));\n    }\n  }, [dispatch, endDate, startDate]);\n\n  //   if (!ticketsLoaded)\n  //     return <LoadingComponent message=\"Loading Tickets please wait\" />;\n\n  return (\n    <div className=\"h-full min-h-screen w-screen bg-slate-300 pb-10 pt-20 flex px-5 \">\n      <div className=\"container flex flex-col mx-auto   flex-auto  w-full rounded-md overflow-hidden\">\n        <h1 className=\"flex-initial font-Oswald text-7xl pb-10  uppercase\">\n          Tickets\n        </h1>\n\n        {!projectId ? (\n          <TicketsFilters params={ticketParams} setParams={handleChangParams} />\n        ) : (\n          <div>\n            <p>\n              <span>Showing Project's tickets</span>\n              {startDate && <span>Starting from: </span>}\n              {endDate && <span>Ending at: </span>}\n            </p>\n          </div>\n        )}\n\n        <div className=\"flex-auto lg:py-16\">\n          {ticketsLoaded ? (\n            <TicketsGrid tickets={tickets} />\n          ) : (\n            <div className=\"w-full h-full\">\n              <LoadingComponentSmall message=\"loading tickets, please wait\" />\n            </div>\n          )}\n        </div>\n\n        {metaData && (\n          <div className=\"py-5 border-black w-full\">\n            <AppPagination\n              metaData={metaData}\n              onPageChange={(page: number) =>\n                dispatch(setPageNumber({ pageNumber: page + 1 }))\n              }\n            />\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n"],"names":["AppPagination","metaData","onPageChange","currentPage","totalItems","totalPages","itemsPerPage","useState","pageNumber","setPageNumber","handlePageChange","page","className","forcePage","pageClassName","activeClassName","pageLinkClassName","breakLabel","nextLabel","selected","console","log","pageRangeDisplayed","pageCount","previousLabel","LoadingComponentSmall","message","useTickets","tickets","useAppSelector","ticketSelectors","state","ticket","ticketsLoaded","ticketParams","dispatch","useAppDispatch","useEffect","fetchTicketsAsync","TicketsFilters","lazy","TicketsGrid","TicketsPage","useSearchParams","searchParams","projectId","get","startDate","endDate","setTicketParams","resetTicketParams","params","setParams","value"],"sourceRoot":""}