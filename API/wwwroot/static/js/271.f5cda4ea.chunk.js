"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[271],{2271:function(e,t,n){n.r(t),n.d(t,{default:function(){return f}});var s=n(885),l=n(2791),c=n(3504),i=n(260),a=n(184),r=(0,l.lazy)((function(){return Promise.all([n.e(158),n.e(677)]).then(n.bind(n,8677))})),o=(0,l.lazy)((function(){return n.e(746).then(n.bind(n,1746))}));function f(e){var t=e.projectId,n=e.isPermitted,f=(0,l.useState)([]),u=(0,s.Z)(f,2),x=u[0],d=u[1],h=(0,l.useState)(!1),p=(0,s.Z)(h,2),j=p[0],m=p[1],w=(0,l.useState)(!1),g=(0,s.Z)(w,2),k=g[0],N=g[1],b=(0,l.useCallback)((function(){i.Z.Projects.listRecentTickets(t).then((function(e){d(e)})).catch((function(e){return console.log(e)})).finally((function(){return m(!1)}))}),[t]);(0,l.useEffect)((function(){return t&&!j&&b(),function(){d([])}}),[b,j,t]);return k&&t?(0,a.jsx)(o,{projectId:t,onClose:function(){b(),N(!1)}}):(0,a.jsxs)("div",{className:"relative h-full flex flex-col overflow-hidden",children:[(0,a.jsxs)("div",{className:"flex-initial flex flex-col lg:flex-row lg:items-end justify-between px-5 lg:px-0",children:[(0,a.jsx)("p",{className:"font-Oswald text-3xl font-thin uppercase leading-loose",children:"Recent Tickets"}),(0,a.jsxs)("div",{className:"flex flex-row self-start gap-x-2",children:[n&&(0,a.jsx)("button",{onClick:function(){return N(!0)},className:"px-2 py-1 bg-slate-600 text-white",type:"button",children:(0,a.jsx)("p",{className:"font-Oswald text-lg font-thin uppercase",children:"Add Ticket"})}),(0,a.jsx)(c.rU,{className:"px-2 py-1 bg-slate-600 text-white",to:{pathname:"/tickets",search:"?projectId=".concat(t)},children:(0,a.jsx)("p",{className:"font-Oswald text-lg font-thin uppercase",children:"View Tickets"})})]})]}),(0,a.jsx)("div",{className:"px-5",children:x.length>0?(0,a.jsx)(r,{tickets:x}):(0,a.jsx)("div",{className:"h-40 w-full flex items-center justify-center",children:(0,a.jsx)("p",{className:"font-Montserrat text-xl text-gray-400",children:"EMPTY"})})})]})}}}]);
//# sourceMappingURL=271.f5cda4ea.chunk.js.map