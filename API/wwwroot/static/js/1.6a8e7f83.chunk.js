"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[1],{732:function(e,t,n){n.d(t,{Z:function(){return h}});var r=n(885),l=n(7845),a=n(2791),s=n(184),i="relative border-x-2 border-x-slate-200 bg-slate-200",c="pb-2 pt-3 px-5 font-Oswald font-thin inline-flex justify-between items-center w-full",o="flex flex-row items-center justify-between w-full gap-x-5 text-lg lg:text-2xl",u="text-lg lg:text-2xl text-gray-400",d="w-8 h-8 ml-2 text-inherit",x="absolute bg-white text-base z-50 drop-shadow-md list-none divide-y  divide-gray-100 rounded shadow my-4  w-full px-5",f="py-5 list-none flex flex-col gap-y-2 font-Montserrat",p="font-Montserrat text-left text-black text-lg font-thin cursor-pointer";function h(e){var t=e.title,n=e.items,h=e.onChange,m=e.selectedValue,v=(0,a.useState)(!1),w=(0,r.Z)(v,2),b=w[0],j=w[1],g=(0,a.useState)(null),N=(0,r.Z)(g,2),y=N[0],Z=N[1];(0,a.useEffect)((function(){if(m&&null==y){var e=n.find((function(e){return e.name===m}));Z(e||null)}}),[n,y,m]);return(0,s.jsxs)("div",{className:"\n    ".concat(m?"border-x-white":"border-x-red-500","  \n    ").concat(i),children:[(0,s.jsxs)("button",{type:"button",className:c,onClick:function(){return j((function(e){return!e}))},children:[y?(0,s.jsxs)("p",{className:o,children:[(0,s.jsxs)("span",{className:"text-gray-500  text-xl  capitalize ",children:[t," "]}),(0,s.jsx)("span",{className:"uppercase text-inherit",children:y.name})]}):(0,s.jsx)("p",{className:u,children:t}),(0,s.jsx)(l.Z,{className:d})]}),(0,s.jsx)("div",{className:"".concat(b?"block ":"hidden","  ").concat(x),id:"dropdown",children:(0,s.jsx)("ul",{className:f,"aria-labelledby":"dropdown",children:n.map((function(e){return(0,s.jsx)("li",{value:e.value,onClick:function(){return function(e){Z(e),h(e.value),j(!1)}(e)},className:p,children:e.name},e.value)}))})})]})}},4949:function(e,t,n){n.d(t,{Z:function(){return o}});var r=n(1413),l=n(1134),a=n(184),s="w-full border-x-2 border-x-black h-full  bg-slate-200 flex flex-col lg:flex-row items-center",i="font-Montserrat resize-none font-thin text-base lg:text-xl text-inherit placeholder:text-gray-500 placeholder:font-Oswald pb-2 pt-3 px-5 w-full h-full block bg-transparent focus-within:outline-none",c="h-auto font-Oswald text-xl leading-none w-full font-thin px-5 py-5 lg:py-0 text-gray-200";function o(e){var t=(0,l.bc)((0,r.Z)((0,r.Z)({},e),{},{defaultValue:""})),n=t.fieldState,o=t.field;return(0,a.jsxs)("div",{className:"\n      ".concat(n.error?"border-x-red-500":"border-x-inherit","  \n      ").concat(s),children:[(0,a.jsx)("textarea",(0,r.Z)((0,r.Z)({className:i,"aria-label":e.label,type:e.type},e),o)),n.error&&(0,a.jsx)("p",{className:c,children:n.error.message})]})}},2990:function(e,t,n){n.d(t,{Z:function(){return o}});var r=n(1413),l=n(1134),a=n(184),s="w-full border-x-2 border-x-black bg-slate-200 flex flex-col lg:flex-row items-center ",i=" font-Montserrat font-thin text-lg lg:text-xl text-inherit placeholder:capitalize placeholder:text-gray-500  placeholder:font-Oswald pb-2 pt-3 px-5 w-full h-auto block bg-transparent focus-within:outline-none",c=" h-auto font-Oswald text-xl leading-none w-full text-center lg:text-left font-thin px-5 lg:py-0 text-gray-400 py-2 ";function o(e){var t=(0,l.bc)((0,r.Z)((0,r.Z)({},e),{},{defaultValue:""})),n=t.fieldState,o=t.field;return(0,a.jsxs)("div",{className:" ".concat(n.error?"border-r-red-500":"border-x-inherit "," ").concat(s),children:[(0,a.jsx)("input",(0,r.Z)((0,r.Z)({className:"".concat(i),"aria-label":e.label,type:e.type},e),o)),n.error&&(0,a.jsx)("p",{className:c,children:n.error.message})]})}},158:function(e,t,n){n.d(t,{Z:function(){return x}});n(1413),n(5861);var r=n(885),l=(n(7757),n(2791)),a=n(1134),s=(n(260),n(3453),n(6474)),i=n(8222),c=n(1690),o=n(4949),u=n(2990),d=n(184);function x(e){var t=e.project,n=e.handleClose,x=(0,l.useState)(null),f=(0,r.Z)(x,2),p=(f[0],f[1]),h=(0,l.useState)([]),m=(0,r.Z)(h,2),v=(m[0],m[1],!!t),w=((0,i.Z)("(max-width: 1024px)"),(0,a.cI)({mode:"all"})),b=w.control,j=w.watch,g=(w.handleSubmit,w.reset),N=w.formState,y=N.isSubmitting,Z=N.isDirty,k=j("file",null);(0,s.TL)();return(0,l.useEffect)((function(){if(t&&(p(t.id),!k&&!Z)){var e={title:t.title,description:t.description};g(e,{keepTouched:!0})}return function(){k&&URL.revokeObjectURL(k.preview)}}),[g,k,Z,t]),(0,d.jsx)("div",{className:"w-screen min-h-screen h-full py-16 bg-slate-100",children:(0,d.jsxs)("div",{className:"container mx-auto px-5",children:[(0,d.jsx)("div",{className:"container mx-auto py-5 border-b-2 border-b-black px-5 lg:px-0 ",children:(0,d.jsx)("p",{className:" font-Oswald text-5xl",children:y?"Please wait":v?"Edit Project":"New Project"})}),(0,d.jsx)("div",{children:(0,d.jsx)("form",{className:"py-10",children:(0,d.jsx)("div",{className:"grid lg:grid-cols-2 gap-10",children:(0,d.jsxs)("div",{className:"flex flex-col gap-y-5 max-w-xl w-full mx-auto",children:[(0,d.jsx)("p",{className:"font-Oswald text-3xl font-thin pb-4",children:"Project Info"}),(0,d.jsx)(u.Z,{control:b,name:"title",label:"Title",placeholder:"Title",rules:{required:"Title is required"}}),(0,d.jsx)(o.Z,{name:"description",placeholder:"Description",label:"Description",rows:7,control:b,rules:{required:"Description is required"}}),(0,d.jsx)("div",{className:"h-auto border-x-2 p-5  border-x-black  bg-slate-200 flex-auto",children:(0,d.jsx)(c.Z,{control:b,name:"file"})}),(0,d.jsx)("div",{className:"flex flex-row h-full w-full border-x-2 px-5 border-x-black  bg-slate-200",children:(0,d.jsx)("div",{className:" mx-auto flex items-center justify-center",children:k?(0,d.jsx)("img",{className:" object-auto w-auto object-center max-h-[200px]",src:k.preview,alt:"preview"}):(0,d.jsx)("img",{className:" object-auto w-auto object-center max-h-[200px]",src:null===t||void 0===t?void 0:t.photo,alt:null===t||void 0===t?void 0:t.title})})}),(0,d.jsxs)("div",{className:"flex flex-row gap-x-0 mx-auto w-full justify-center py-5",children:[(0,d.jsx)("input",{className:"cursor-pointer border-slate-800 border-2 text-slate-800 py-1 px-5 uppercase font-Oswald text-xl font-thin",type:"button",value:"Cancel",onClick:function(){return n()}}),(0,d.jsx)("input",{className:"cursor-pointer bg-slate-800 text-white py-1 px-5 uppercase font-Oswald text-xl font-thin",type:"submit",value:v?"Update Project":"Create Project"})]})]})})})})]})})}},4001:function(e,t,n){n.r(t),n.d(t,{default:function(){return C}});var r=n(885),l=n(6437),a=n(2791),s=n(6871),i=n(260),c=n(6823),o=n(2982),u=n(5861),d=n(7757),x=n.n(d);var f=a.forwardRef((function(e,t){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),a.createElement("path",{fillRule:"evenodd",d:"M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z",clipRule:"evenodd"}))}));var p=a.forwardRef((function(e,t){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),a.createElement("path",{fillRule:"evenodd",d:"M3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z",clipRule:"evenodd"}))})),h=n(732),m=n(184);function v(e){var t=e.projectId,n=e.onClose,l=(0,a.useState)([]),s=(0,r.Z)(l,2),c=s[0],d=s[1],v=(0,a.useState)(!1),w=(0,r.Z)(v,2),b=w[0],j=w[1],g=(0,a.useState)(!1),N=(0,r.Z)(g,2),y=N[0],Z=N[1],k=(0,a.useState)([]),C=(0,r.Z)(k,2),S=C[0],O=C[1],M=(0,a.useState)(!1),E=(0,r.Z)(M,2),z=(E[0],E[1]),P=(0,a.useState)(null),R=(0,r.Z)(P,2),L=R[0],I=R[1],V=(0,a.useCallback)(function(){var e=(0,u.Z)(x().mark((function e(t){var n,r,l,a;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i.Z.Projects.listMembers(t);case 3:r=e.sent,l=r.map((function(e){return{name:e.userName,id:e.userId}})),a=r.find((function(e){return e.isLeader})),I(null!==(n=null===a||void 0===a?void 0:a.userName)&&void 0!==n?n:null),O(l),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),[]),T=(0,a.useCallback)((0,u.Z)(x().mark((function e(){var n;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i.Z.Account.listAll();case 3:return n=e.sent,d(n),j(!0),e.next=8,V(t);case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:return e.prev=13,Z(!1),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[0,10,13,16]])}))),[V,t]);(0,a.useEffect)((function(){b||y||(Z(!0),T())}),[T,b,y]);var q=function(){var e=(0,u.Z)(x().mark((function e(n){return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,z(!0),e.next=4,i.Z.Members.create(t,{userId:n.id,isLeader:!1});case 4:O([].concat((0,o.Z)(S),[{id:n.id,name:n.displayName}])),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:return e.prev=10,z(!1),e.finish(10);case 13:case"end":return e.stop()}}),e,null,[[0,7,10,13]])})));return function(t){return e.apply(this,arguments)}}(),A=function(){var e=(0,u.Z)(x().mark((function e(n){var r;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,z(!0),e.next=4,i.Z.Members.delete(t,n);case 4:r=S.filter((function(e){return e.id!==n})),O(r),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:return e.prev=11,z(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[0,8,11,14]])})));return function(t){return e.apply(this,arguments)}}(),B=function(){var e=(0,u.Z)(x().mark((function e(n){var r,l;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i.Z.Members.setLeader(t,n);case 3:l=S.find((function(e){return e.id===n})),I(null!==(r=null===l||void 0===l?void 0:l.name)&&void 0!==r?r:null),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),D="list-none flex flex-col h-auto flex-wrap gap-2 ",H="relative bg-slate-200 px-3 rounded-sm flex flex-row justify-start items-center w-full h-auto",U="font-Oswald font-thin text-2xl";return(0,m.jsx)("div",{className:"w-full h-full min-h-screen bg-slate-100 overflow-hidden pt-20 flex items-center justify-center",children:(0,m.jsxs)("div",{className:"w-full max-w-xl flex flex-col gap-y-5  px-5",children:[(0,m.jsx)("p",{className:" font-Oswald text-4xl font-thin uppercase leading-loose flex-initial",children:"Project Members"}),(0,m.jsx)("div",{className:"flex-initial",children:(0,m.jsx)(h.Z,{title:"Leader",items:S.map((function(e){return{name:e.name,value:e.id}})),selectedValue:L,onChange:function(e){return B(e)}})}),(0,m.jsx)("div",{className:"flex-auto overflow-y-auto overflow-x-hidden h-full max-h-[60vh]",children:(0,m.jsx)("ul",{className:D,children:c.map((function(e){return(0,m.jsxs)("li",{className:"".concat(H," py-2 pl-5 pr-10"),children:[(0,m.jsxs)("div",{className:"w-full",children:[(0,m.jsx)("p",{className:"".concat(U," w-full"),children:e.displayName}),(0,m.jsx)("p",{className:" font-Montserrat font-thin text-gray-500 uppercase",children:e.title})]}),(t=e.id,S.some((function(e){return e.id===t}))?(0,m.jsx)("button",{type:"button",title:"add member",onClick:function(){return A(e.id)},className:"",children:(0,m.jsx)(p,{className:"h-6 w-6 text-red-500"})}):(0,m.jsx)("button",{type:"button",title:"add member",onClick:function(){return q(e)},className:"",children:(0,m.jsx)(f,{className:"h-6 w-6"})}))]},e.id);var t}))})}),(0,m.jsx)("div",{className:"flex-initial",children:(0,m.jsx)("button",{className:"cursor-pointer bg-slate-800 text-white py-1 px-5 uppercase font-Oswald text-xl font-thin",type:"button",onClick:n,children:"Close"})})]})})}var w=n(158),b=n(6474),j=(0,a.lazy)((function(){return n.e(552).then(n.bind(n,2552))})),g=(0,a.lazy)((function(){return n.e(716).then(n.bind(n,5716))})),N=(0,a.lazy)((function(){return n.e(38).then(n.bind(n,3038))})),y=(0,a.lazy)((function(){return n.e(852).then(n.bind(n,2852))})),Z=(0,a.lazy)((function(){return n.e(271).then(n.bind(n,2271))})),k=(0,a.lazy)((function(){return n.e(258).then(n.bind(n,2258))}));function C(){var e=(0,b.CG)((function(e){return e.account})),t=e.user,n=e.isAdmin,o=(0,s.UO)().slug,u=(0,a.useState)(void 0),d=(0,r.Z)(u,2),x=d[0],f=d[1],p=(0,a.useState)(!1),h=(0,r.Z)(p,2),C=h[0],S=h[1],O=(0,a.useState)(!1),M=(0,r.Z)(O,2),E=M[0],z=M[1],P=(0,a.useState)(!1),R=(0,r.Z)(P,2),L=R[0],I=R[1],V=(0,a.useState)(!1),T=(0,r.Z)(V,2),q=T[0],A=T[1];return(0,a.useEffect)((function(){t&&x&&z(t.roles.includes("Admin")||x.isLeader)}),[x,t]),(0,a.useEffect)((function(){return S(!0),o&&i.Z.Projects.details(o).then((function(e){f(e)})).catch((function(e){return console.log(e)})).finally((function(){return S(!1)})),function(){f(void 0)}}),[o]),C?(0,m.jsx)(c.Z,{message:"Loading Project, please wait..."}):x?L?(0,m.jsx)(w.Z,{project:x,handleClose:function(){return I(!1)}}):q?(0,m.jsx)(v,{projectId:x.id,onClose:function(){return A(!1)}}):(0,m.jsx)("div",{className:" w-full h-full min-h-screen bg-slate-100 pt-16 lg:pt-20",children:(0,m.jsxs)("div",{className:"container px-5 mx-auto flex flex-col gap-y-5 py-10",children:[(n||x.isLeader)&&(0,m.jsxs)("div",{className:"px-5 flex flex-row justify-end items-start gap-x-5 py-3",children:[(0,m.jsxs)("button",{className:"flex flex-row gap-x-2 items-center",onClick:function(){return I(!0)},children:[(0,m.jsx)(l.Z,{className:"h-6 w-6"}),(0,m.jsx)("p",{className:" font-Oswald text-lg font-thin uppercase",children:"Edit"})]}),(0,m.jsxs)("button",{className:"flex flex-row gap-x-2 items-center",onClick:function(){return A(!0)},children:[(0,m.jsx)(l.Z,{className:"h-6 w-6"}),(0,m.jsx)("p",{className:" font-Oswald text-lg font-thin uppercase",children:"Members"})]})]}),(0,m.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-5",children:[(0,m.jsx)("div",{className:" w-full h-full px-5 py-10 lg:p-10 bg-white text-black drop-shadow-md",children:(0,m.jsx)(j,{project:x})}),(0,m.jsx)("div",{className:" w-full h-auto px-5 py-10 lg:p-10 bg-white text-black drop-shadow-md",children:(0,m.jsx)(g,{project:x})}),(0,m.jsx)("div",{className:" w-full h-auto px-5 py-10 lg:p-10 bg-white text-black drop-shadow-md",children:(0,m.jsx)(y,{projectId:x.id})})]}),(0,m.jsx)("div",{className:" w-full py-10 lg:p-10 bg-white text-black drop-shadow-md h-auto",children:(0,m.jsx)(N,{projectId:x.id,projectSlug:x.slug,isPermitted:E})}),(0,m.jsx)("div",{className:" w-full py-10 lg:p-10 bg-white text-black drop-shadow-md h-auto",children:(0,m.jsx)(k,{projectId:x.id,projectSlug:x.slug,isPermitted:E,isMember:x.isMember})}),(0,m.jsx)("div",{className:" w-full py-10 lg:p-10 bg-white text-black drop-shadow-md h-auto",children:(0,m.jsx)(Z,{projectId:x.id,projectSlug:x.slug,isPermitted:E})})]})}):(0,m.jsx)("div",{className:"py-20 w-screen h-screen bg-slate-300 flex items-center justify-center",children:(0,m.jsx)("p",{className:" font-Montserrat text-xl",children:"Cant find Project"})})}},7845:function(e,t,n){var r=n(2791);var l=r.forwardRef((function(e,t){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),r.createElement("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"}))}));t.Z=l},6437:function(e,t,n){var r=n(2791);var l=r.forwardRef((function(e,t){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),r.createElement("path",{d:"M17.414 2.586a2 2 0 00-2.828 0L7 10.172V13h2.828l7.586-7.586a2 2 0 000-2.828z"}),r.createElement("path",{fillRule:"evenodd",d:"M2 6a2 2 0 012-2h4a1 1 0 010 2H4v10h10v-4a1 1 0 112 0v4a2 2 0 01-2 2H4a2 2 0 01-2-2V6z",clipRule:"evenodd"}))}));t.Z=l}}]);
//# sourceMappingURL=1.6a8e7f83.chunk.js.map