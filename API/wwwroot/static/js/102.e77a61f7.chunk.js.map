{"version":3,"file":"static/js/102.e77a61f7.chunk.js","mappings":"mNAIe,SAASA,IACtB,OAAuBC,EAAAA,EAAAA,MAAhBC,GAAP,eACMC,GAAWC,EAAAA,EAAAA,MACXC,EAAQH,EAAaI,IAAI,SACzBC,EAAQL,EAAaI,IAAI,SAEzBE,EACO,YADPA,EAEI,SAFJA,EAGK,UAGX,GAA4BC,EAAAA,EAAAA,UAASD,GAArC,eAAOE,EAAP,KAAeC,EAAf,KAEA,SAASC,IACPC,EAAAA,EAAAA,QAAAA,mBAAiCR,GAC9BS,MAAK,WACJC,QAAQC,IAAI,0DAEbC,OAAM,SAACC,GAAD,OAAWH,QAAQC,IAAIE,MAyDlC,OAtDAC,EAAAA,EAAAA,YAAU,WACRN,EAAAA,EAAAA,QAAAA,YAA0BN,EAAQF,GAC/BS,MAAK,WACJH,EAAUH,MAEXS,OAAM,WACLN,EAAUH,QAEb,CAACA,EAAeA,EAAgBD,EAAOF,KA+CxC,gBAAKe,UAAU,2DAAf,UACE,iBAAKA,UAAU,qHAAf,WACE,cAAGA,UAAU,0CAAb,iCAGA,gBAAKA,UAAU,8EAAf,SAlDN,WACE,OAAQV,GACN,KAAKF,EACH,OACE,cAAGY,UAAU,2BAAb,uCAEJ,KAAKZ,EACH,OACE,iBAAKY,UAAU,qDAAf,WACE,cAAGA,UAAU,0BAAb,uFAIA,mBACEC,KAAK,SACLD,UAAU,4CACVE,QAASV,EAHX,UAKE,cAAGQ,UAAU,2DAAb,+BAMR,KAAKZ,EACH,OACE,iBAAKY,UAAU,qDAAf,WACE,cAAGA,UAAU,0BAAb,+EAGA,mBACEC,KAAK,SACLD,UAAU,uDACVE,QAAS,kBAAMnB,EAAS,iBAAkB,CAAEoB,MAAO,CAAElB,MAAAA,MAHvD,UAKE,cAAGe,UAAU,2DAAb,yBAgBHI","sources":["app/pages/account/ConfirmEmailPage.tsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { useNavigate, useSearchParams } from \"react-router-dom\";\nimport agent from \"../../api/agent\";\n\nexport default function ConfirmEmailPage() {\n  const [searchParams] = useSearchParams();\n  const navigate = useNavigate();\n  const email = searchParams.get(\"email\");\n  const token = searchParams.get(\"token\");\n\n  const Status = {\n    Verifying: \"Verifying\",\n    Failed: \"Failed\",\n    Success: \"Success\",\n  };\n\n  const [status, setStatus] = useState(Status.Verifying);\n\n  function handleConfirmEmailResend() {\n    agent.Account.resendEmailConfirm(email!)\n      .then(() => {\n        console.log(\"Verification email resent - please check your email\");\n      })\n      .catch((error) => console.log(error));\n  }\n\n  useEffect(() => {\n    agent.Account.verifyEmail(token!, email!)\n      .then(() => {\n        setStatus(Status.Success);\n      })\n      .catch(() => {\n        setStatus(Status.Failed);\n      });\n  }, [Status.Failed, Status.Success, token, email]);\n\n  function getBody() {\n    switch (status) {\n      case Status.Verifying:\n        return (\n          <p className=\"font-Montserrat text-2xl\">Verifying, Please wait...</p>\n        );\n      case Status.Failed:\n        return (\n          <div className=\"flex flex-col justify-center items-center gap-y-10\">\n            <p className=\"font-Montserrat text-xl\">\n              Verification failed. You can try resending the verify link to your\n              email\n            </p>\n            <button\n              type=\"button\"\n              className=\"mx-auto py-1 px-5 rounded-md  bg-red-600 \"\n              onClick={handleConfirmEmailResend}\n            >\n              <p className=\"font-Montserrat text-base font-bold text-white uppercase\">\n                Resend email\n              </p>\n            </button>\n          </div>\n        );\n      case Status.Success:\n        return (\n          <div className=\"flex flex-col justify-center items-center gap-y-10\">\n            <p className=\"font-Montserrat text-xl\">\n              Congratulations, your email has been verified. You can now login\n            </p>\n            <button\n              type=\"button\"\n              className=\"mx-auto py-1 px-5 rounded-md bg-green-600 text-white\"\n              onClick={() => navigate(\"/account/login\", { state: { email } })}\n            >\n              <p className=\"font-Montserrat text-base font-bold text-white uppercase\">\n                Login\n              </p>\n            </button>\n          </div>\n        );\n    }\n  }\n\n  return (\n    <div className=\"py-32 w-screen h-screen flex items-center justify-center\">\n      <div className=\"max-w-2xl w-full h-auto  min-h-[30vh]  items-start justify-center flex flex-col rounded-md bg-gray-300 py-10 px-16\">\n        <p className=\"flex-initial font-Oswald text-6xl mb-10\">\n          Email verification\n        </p>\n        <div className=\"flex-auto w-full  mx-auto  h-auto flex flex-col items-center justify-center\">\n          {getBody()}\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":["ConfirmEmailPage","useSearchParams","searchParams","navigate","useNavigate","email","get","token","Status","useState","status","setStatus","handleConfirmEmailResend","agent","then","console","log","catch","error","useEffect","className","type","onClick","state","getBody"],"sourceRoot":""}