"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[271],{2271:function(e,t,n){n.r(t),n.d(t,{default:function(){return f}});var s=n(885),l=n(2791),c=n(3504),i=n(260),a=n(184),r=(0,l.lazy)((function(){return Promise.all([n.e(158),n.e(677)]).then(n.bind(n,8677))})),o=(0,l.lazy)((function(){return n.e(746).then(n.bind(n,1746))}));function f(e){var t=e.projectId,n=e.isPermitted,f=e.projectSlug,u=(0,l.useState)([]),x=(0,s.Z)(u,2),d=x[0],h=x[1],p=(0,l.useState)(!1),j=(0,s.Z)(p,2),m=j[0],g=j[1],w=(0,l.useState)(!1),k=(0,s.Z)(w,2),N=k[0],b=k[1],v=(0,l.useCallback)((function(){i.Z.Projects.listRecentTickets(t).then((function(e){h(e)})).catch((function(e){return console.log(e)})).finally((function(){return g(!1)}))}),[t]);(0,l.useEffect)((function(){return t&&!m&&v(),function(){h([])}}),[v,m,t]);return N&&t?(0,a.jsx)(o,{projectId:t,onClose:function(){v(),b(!1)}}):(0,a.jsxs)("div",{className:"relative h-full flex flex-col overflow-hidden",children:[(0,a.jsxs)("div",{className:"flex-initial flex flex-col lg:flex-row lg:items-end justify-between px-5 lg:px-0",children:[(0,a.jsx)("p",{className:"font-Oswald text-3xl font-thin uppercase leading-loose",children:"Recent Tickets"}),(0,a.jsxs)("div",{className:"flex flex-row self-start gap-x-2",children:[n&&(0,a.jsx)("button",{onClick:function(){return b(!0)},className:"px-2 py-1 bg-slate-600 text-white",type:"button",children:(0,a.jsx)("p",{className:"font-Oswald text-lg font-thin uppercase",children:"Add Ticket"})}),(0,a.jsx)(c.rU,{className:"px-2 py-1 bg-slate-600 text-white",to:{pathname:"/projects/".concat(f,"/tickets")},children:(0,a.jsx)("p",{className:"font-Oswald text-lg font-thin uppercase",children:"View Tickets"})})]})]}),(0,a.jsx)("div",{className:"px-5",children:d.length>0?(0,a.jsx)(r,{tickets:d}):(0,a.jsx)("div",{className:"h-40 w-full flex items-center justify-center",children:(0,a.jsx)("p",{className:"font-Montserrat text-xl text-gray-400",children:"EMPTY"})})})]})}}}]);
//# sourceMappingURL=271.9dfbef65.chunk.js.map