"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[18],{4949:function(e,t,n){n.d(t,{Z:function(){return c}});var r=n(1413),l=n(1134),a=n(184),s="border-x-2 border-x-slate-200 h-full bg-slate-500 flex flex-row items-center",i="font-Montserrat resize-none font-thin text-2xl text-white placeholder:text-gray-300 placeholder:font-Oswald pb-2 pt-3 px-5 w-full h-full block bg-transparent focus-within:outline-none",o="h-auto font-Oswald text-lg leading-none w-full font-thin px-5 py-0 text-gray-600";function c(e){var t=(0,l.bc)((0,r.Z)((0,r.Z)({},e),{},{defaultValue:""})),n=t.fieldState,c=t.field;return(0,a.jsxs)("div",{className:"\n      ".concat(e.fullWidth?"w-full":"w-full max-w-sm","\n      ").concat(n.error?"border-x-red-500":"border-x-white","  \n      ").concat(s),children:[(0,a.jsx)("textarea",(0,r.Z)((0,r.Z)({className:i,"aria-label":e.label,type:e.type},e),c)),n.error&&(0,a.jsx)("p",{className:o,children:n.error.message})]})}},2990:function(e,t,n){n.d(t,{Z:function(){return c}});var r=n(1413),l=n(1134),a=n(184),s=" border-x-2 border-x-slate-200 bg-slate-500 flex flex-row items-center ",i=" font-Montserrat font-thin text-2xl text-white placeholder:capitalize placeholder:text-gray-300 placeholder:opacity-50 placeholder:font-Oswald pb-2 pt-3 px-5 w-full h-auto block bg-transparent focus-within:outline-none ",o=" h-auto font-Oswald text-xl leading-none w-full text-center font-thin px-5 py-0 text-red-200 ";function c(e){var t=(0,l.bc)((0,r.Z)((0,r.Z)({},e),{},{defaultValue:""})),n=t.fieldState,c=t.field;return(0,a.jsxs)("div",{className:" ".concat(e.fullWidth?"w-full":"w-full max-w-sm"," ").concat(n.error?"border-r-red-500":"border-x-white"," ").concat(s),children:[(0,a.jsx)("input",(0,r.Z)((0,r.Z)({className:i,"aria-label":e.label,type:e.type},e),c)),n.error&&(0,a.jsx)("p",{className:o,children:n.error.message})]})}},101:function(e,t,n){n.d(t,{Z:function(){return g}});var r=n(1413),l=n(5861),a=n(885),s=n(7757),i=n.n(s),o=n(2791),c=n(1134),u=n(260),d=n(3453),f=n(6474),x=n(1690),p=n(4949),m=n(2990),h=n(2982),b=n(9169),w=n(7866),j=n(184);function v(e){var t=e.isEdit,n=e.projectId,r=(0,o.useState)([]),s=(0,a.Z)(r,2),d=s[0],f=s[1],x=(0,o.useState)(!1),p=(0,a.Z)(x,2),v=p[0],g=p[1],N=(0,o.useState)(!1),y=(0,a.Z)(N,2),Z=(y[0],y[1]),k=(0,o.useState)([]),P=(0,a.Z)(k,2),C=P[0],O=P[1],I=(0,o.useState)([]),L=(0,a.Z)(I,2),R=L[0],S=L[1],M=(0,o.useState)([]),D=(0,a.Z)(M,2),A=D[0],U=D[1],q=(0,c.cI)({mode:"all"}),B=q.control,E=q.handleSubmit,F=q.reset,H=(0,c.Dq)({control:B,name:"members"}),T=H.fields,W=H.append,z=H.remove;(0,o.useEffect)((function(){v||(Z(!0),u.Z.Account.listAll().then((function(e){f(e),g(!0)})).catch((function(e){return console.log(e)})).finally((function(){return Z(!1)})))}),[v]);var V=(0,o.useCallback)((function(e){Z(!0),u.Z.Projects.listMembers(e).then((function(t){var n=t.map((function(t){return{userId:t.userId,username:t.userName,title:t.title,projectId:e,isLeader:t.isLeader,role:t.role}})),r=t.map((function(e){return e.userId}));O(t),S(r),F({members:n})})).catch((function(e){return console.log(e)})).finally((function(){return Z(!1)}))}),[F]);(0,o.useEffect)((function(){n&&v&&V(n)}),[V,n,v]);function G(){return(G=(0,l.Z)(i().mark((function e(r){var l,a,s,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return");case 2:if(l=r.members.map((function(e){return{userId:e.userId,role:e.role,projectId:n,isLeader:e.isLeader}})),!t){e.next=50;break}if(a=l.filter((function(e){return!C.map((function(e){return e.userId})).includes(e.userId)})),console.log(a),!(a.length>0)){e.next=19;break}return e.prev=7,e.next=10,u.Z.Members.createRange(n,a);case 10:console.log("Adding Members:",a),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(7),console.log(e.t0);case 16:return e.prev=16,a=[],e.finish(16);case 19:if(!((s=l.filter((function(e){return C.map((function(e){return e.userId})).includes(e.userId)}))).length>0)){e.next=37;break}if(o=[],s.forEach((function(e){var t=C.find((function(t){return t.userId===e.userId}));e.title!==t.title&&o.push(e)})),console.log("items to update: ",o),!(o.length>0)){e.next=37;break}return e.prev=25,e.next=28,u.Z.Members.updateRange(n,o);case 28:e.next=33;break;case 30:e.prev=30,e.t1=e.catch(25),console.log(e.t1);case 33:return e.prev=33,s=[],o=[],e.finish(33);case 37:if(!(A.length>0)){e.next=47;break}return e.prev=38,console.log(A),e.next=42,u.Z.Members.deleteRange(n,A);case 42:e.next=47;break;case 44:e.prev=44,e.t2=e.catch(38),console.log(e.t2);case 47:V(n),e.next=58;break;case 50:return e.prev=50,e.next=53,u.Z.Members.createRange(n,l);case 53:e.next=58;break;case 55:e.prev=55,e.t3=e.catch(50),console.log(e.t3);case 58:case"end":return e.stop()}}),e,null,[[7,13,16,19],[25,30,33,37],[38,44],[50,55]])})))).apply(this,arguments)}if(v&&0===d.length)return(0,j.jsx)("p",{children:"no users"});var $="list-none flex flex-col flex-wrap gap-2",_="relative bg-slate-600 text-white px-3 rounded-sm flex flex-row justify-start items-center w-full h-auto",J="font-Oswald font-thin text-2xl";return(0,j.jsx)("div",{className:"w-full h-full bg-slate-400 overflow-hidden py-10",children:(0,j.jsxs)("div",{className:"w-full container mx-auto flex flex-row ",children:[(0,j.jsxs)("div",{className:" max-w-lg w-full",children:[(0,j.jsx)("p",{className:"font-Oswald text-3xl font-thin pb-4",children:"Available Users"}),(0,j.jsx)("ul",{className:$,children:d.map((function(e){return(0,j.jsxs)("li",{className:"".concat(_," py-2 pl-5 pr-10"),children:[(0,j.jsxs)("div",{className:"w-full",children:[(0,j.jsx)("p",{className:"".concat(J," w-full"),children:e.displayName}),(0,j.jsx)("p",{className:" font-Montserrat font-thin text-gray-300 uppercase",children:e.title})]}),(t=e.id,R.some((function(e){return e===t}))?(0,j.jsx)("p",{className:" font-Oswald font-thin text-lg text-gray-300",children:"Added"}):(0,j.jsx)("button",{type:"button",title:"add member",onClick:function(){return function(e){W({userId:e.id,username:e.displayName,projectId:n,isLeader:!1,role:""}),S([].concat((0,h.Z)(R),[e.id]))}(e)},className:"",children:(0,j.jsx)(b.Z,{className:"h-6 w-6"})}))]},e.id);var t}))})]}),(0,j.jsxs)("form",{onSubmit:E((function(e){return G.apply(this,arguments)})),className:"w-full pl-10",children:[(0,j.jsxs)("div",{className:" w-full flex flex-row justify-between items-center  ",children:[(0,j.jsx)("p",{className:"font-Oswald text-3xl font-thin pb-4",children:"Project Members"}),(0,j.jsxs)("div",{className:"flex flex-row gap-x-2",children:[t&&n&&A.length>0&&(0,j.jsx)("input",{className:"cursor-pointer border-slate-800 border-2 text-black py-1 px-5 uppercase font-Oswald text-xl font-thin",type:"button",value:"Reset",onClick:function(){return V(n)}}),(0,j.jsx)("input",{className:"cursor-pointer bg-slate-800 text-white py-1 px-5 uppercase font-Oswald text-xl font-thin",type:"submit",value:t?"Update Members":"Add Members"})]})]}),(0,j.jsx)("ul",{className:"list-none flex flex-col flex-wrap gap-2",children:T.map((function(e,n){return(0,j.jsxs)("li",{className:"relative bg-slate-600 text-white px-3 rounded-sm flex flex-row justify-start items-center w-auto h-auto",children:[(0,j.jsx)("p",{className:"font-Oswald font-thin text-2xl leading-loose px-2 max-w-[22rem] w-full",children:(0,j.jsx)("span",{children:e.username})}),(0,j.jsx)(m.Z,{control:B,type:"text",name:"members.".concat(n,".role"),label:"Assigned Role",placeholder:"Assigned Role",rules:{required:"Role is required"},fullWidth:!0}),(0,j.jsx)("button",{type:"button",title:"remove member",className:"ml-auto w-auto h-full px-5 ",onClick:function(){return function(e,n){z(e);var r=R.filter((function(e){return e!==n}));t&&U([].concat((0,h.Z)(A),[n])),S(r)}(n,e.userId)},children:(0,j.jsx)(w.Z,{className:"h-6 w-6 mx-2"})})]},e.id)}))})]})]})})}function g(e){var t=e.project,n=e.handleClose,s=(0,o.useState)(null),h=(0,a.Z)(s,2),b=h[0],w=h[1],g=!!t,N=(0,c.cI)({mode:"all"}),y=N.control,Z=N.watch,k=N.handleSubmit,P=N.reset,C=N.formState,O=C.isSubmitting,I=C.isDirty,L=Z("file",null),R=(0,f.TL)();function S(){return(S=(0,l.Z)(i().mark((function e(n){var l,a,s,o,c;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=(0,r.Z)({id:null!==(l=null===t||void 0===t?void 0:t.id)&&void 0!==l?l:0},n),s=t&&(t.title!==a.title||t.description!==a.description||null!==a.file),console.log(s),e.prev=3,!g||!s){e.next=9;break}return e.next=7,u.Z.Projects.update(a);case 7:o=e.sent,R((0,d.ty)({id:t.id,changes:(0,r.Z)({},o)}));case 9:if(g){e.next=15;break}return e.next=12,u.Z.Projects.create(a);case 12:c=e.sent,R((0,d.a0)(c)),w(c.id);case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(3),console.log(e.t0);case 20:return e.prev=20,e.finish(20);case 22:case"end":return e.stop()}}),e,null,[[3,17,20,22]])})))).apply(this,arguments)}return(0,o.useEffect)((function(){if(t&&(w(t.id),!L&&!I)){var e={title:t.title,description:t.description};P(e,{keepTouched:!0})}return function(){L&&URL.revokeObjectURL(L.preview)}}),[P,L,I,t]),(0,j.jsx)("div",{className:"w-screen min-h-screen h-full py-16 bg-slate-600 flex   ",children:(0,j.jsxs)("div",{className:"flex-auto my-auto mx-auto",children:[(0,j.jsx)("div",{className:"container mx-auto text-white py-5 border-b-2 border-b-white",children:(0,j.jsx)("p",{className:" font-Oswald text-5xl",children:O?"Pleas wait":g?"Edit Project":"New Project"})}),(0,j.jsxs)("div",{className:"my-auto h-full flex-auto",children:[(0,j.jsx)("div",{className:"container mx-auto pt-16 text-white",children:(0,j.jsxs)("form",{onSubmit:k((function(e){return S.apply(this,arguments)})),children:[(0,j.jsxs)("div",{className:"grid grid-cols-3 w-full gap-10",children:[(0,j.jsxs)("div",{className:" w-full flex flex-col h-full",children:[(0,j.jsx)("p",{className:"font-Oswald text-3xl font-thin pb-4",children:"Project Info"}),(0,j.jsxs)("div",{className:" flex flex-col gap-y-5",children:[(0,j.jsx)(m.Z,{control:y,name:"title",label:"Title",placeholder:"Title",rules:{required:"Title is required"},fullWidth:!0}),(0,j.jsx)(p.Z,{name:"description",placeholder:"Description",label:"Description",fullWidth:!0,rows:4,control:y,rules:{required:"Description is required"}})]})]}),(0,j.jsxs)("div",{className:"w-full flex flex-col h-full",children:[(0,j.jsx)("p",{className:"font-Oswald text-3xl font-thin pb-4 flex-initial",children:"Project Image"}),(0,j.jsx)("div",{className:"h-auto border-x-2 px-5 border-x-white text-white bg-slate-500 flex-auto",children:(0,j.jsx)(x.Z,{control:y,name:"file"})})]}),(0,j.jsxs)("div",{className:"w-full flex flex-col h-full",children:[(0,j.jsx)("p",{className:"font-Oswald text-3xl font-thin pb-4",children:"Image Preview"}),(0,j.jsx)("div",{className:"flex flex-row h-full w-full border-x-2 px-5 border-x-white text-white bg-slate-500",children:(0,j.jsx)("div",{className:" mx-auto flex items-center justify-center",children:L?(0,j.jsx)("img",{className:" object-auto w-auto object-center max-h-[200px]",src:L.preview,alt:"preview"}):(0,j.jsx)("img",{className:" object-auto w-auto object-center max-h-[200px]",src:null===t||void 0===t?void 0:t.photo,alt:null===t||void 0===t?void 0:t.title})})})]})]}),(0,j.jsxs)("div",{className:"flex flex-row gap-x-2 mx-auto w-full justify-center py-10",children:[(0,j.jsx)("input",{className:"cursor-pointer border-slate-500 border-2 text-slate-300 py-1 px-5 uppercase font-Oswald text-xl font-thin",type:"button",value:"Cancel",onClick:function(){return n()}}),(0,j.jsx)("input",{className:"cursor-pointer bg-slate-800 text-white py-1 px-5 uppercase font-Oswald text-xl font-thin",type:"submit",value:g?"Update Project":"Create Project"})]})]})}),(0,j.jsx)("div",{className:" drop-shadow-md",children:b&&(0,j.jsx)(v,{projectId:b,isEdit:g})})]})]})})}},1024:function(e,t,n){n.d(t,{o:function(){return l}});var r=n(3460),l=[{name:"Name",value:"name"},{name:"Recently Added",value:"added"},{name:"Recently Updated",value:"updated"}],a={operatingSystem:"Mac OS Monterey",browser:"Chrome Latest",occurrence:r.vH.Persistent,severity:r._8.Critical,nature:r.$p.Functional};r.Bh.Medium,r.mk.New,r.Bh.Medium,r.mk.Pending,r.Bh.Urgent,r.mk.Fixed,r.Bh.Medium,r.mk.Duplicate,r.Bh.Low,r.mk.Deferred},3460:function(e,t,n){var r,l,a,s,i;n.d(t,{vH:function(){return r},mk:function(){return l},Bh:function(){return a},_8:function(){return s},$p:function(){return i}}),function(e){e[e.Persistent=0]="Persistent",e[e.Frequent=1]="Frequent",e[e.Random=2]="Random",e[e.Rare=3]="Rare"}(r||(r={})),function(e){e[e.New=0]="New",e[e.Assigned=1]="Assigned",e[e.Open=2]="Open",e[e.Fixed=3]="Fixed",e[e.Pending=4]="Pending",e[e.Retest=5]="Retest",e[e.Verified=6]="Verified",e[e.Reopen=7]="Reopen",e[e.Closed=8]="Closed",e[e.Duplicate=9]="Duplicate",e[e.Rejected=10]="Rejected",e[e.Deferred=11]="Deferred",e[e.NotBug=12]="NotBug"}(l||(l={})),function(e){e[e.Low=0]="Low",e[e.Medium=1]="Medium",e[e.High=2]="High",e[e.Urgent=3]="Urgent"}(a||(a={})),function(e){e[e.Low=0]="Low",e[e.Medium=1]="Medium",e[e.High=2]="High",e[e.Critical=3]="Critical"}(s||(s={})),function(e){e[e.Functional=0]="Functional",e[e.Performance=1]="Performance",e[e.Usability=2]="Usability",e[e.Compatibility=3]="Compatibility",e[e.Security=4]="Security"}(i||(i={}))},2018:function(e,t,n){n.r(t),n.d(t,{default:function(){return b}});var r=n(885),l=n(2791),a=n(6285),s=n(4673),i=n(6048),o=n.n(i),c=n(184);function u(e){var t=e.metaData,n=e.onPageChange,i=t.currentPage,u=t.totalItems,d=t.totalPages,f=t.itemsPerPage,x=(0,l.useState)(i),p=(0,r.Z)(x,2),m=p[0],h=p[1];function b(e){h(e),n(e)}return(0,c.jsx)("div",{className:" border-x-2 border-x-inherit px-10 text-inherit w-auto h-auto",children:t&&t.totalPages>1&&(0,c.jsxs)("div",{className:"flex flex-row justify-between items-center",children:[(0,c.jsxs)("p",{className:"font-Oswald font-thin text-xl",children:["Showing ",(i-1)*f+1," to"," ",(i-1)*f>u?u:i*f," ","of ",u," items"]}),(0,c.jsx)(o(),{className:"flex flex-row items-center gap-x-3 py-2 px-5 w-auto ",forcePage:m-1,pageClassName:"font-thin",activeClassName:"font-normal",pageLinkClassName:"p-2 font-Oswald  text-inherit text-xl",breakLabel:"...",nextLabel:(0,c.jsx)(a.Z,{className:"h-6 w-6"}),onPageChange:function(e){var t=e.selected;console.log(t),b(t)},pageRangeDisplayed:5,pageCount:d,previousLabel:(0,c.jsx)(s.Z,{className:"h-6 w-6"})})]})})}var d=n(101),f=n(3453),x=n(6474);var p=n(1024),m=(0,l.lazy)((function(){return n.e(256).then(n.bind(n,1179))})),h=(0,l.lazy)((function(){return Promise.all([n.e(158),n.e(167)]).then(n.bind(n,6167))}));function b(){var e=(0,x.TL)(),t=(0,l.useState)(p.o[0]),n=(0,r.Z)(t,2),a=(n[0],n[1],function(){var e=(0,x.CG)(f.Hx.selectAll),t=(0,x.CG)((function(e){return e.project})),n=t.projectsLoaded,r=t.metaData,a=(0,x.TL)();return(0,l.useEffect)((function(){n||a((0,f.i0)())}),[a,e,n]),{projects:e,projectsLoaded:n,metaData:r}}()),s=a.projects,i=(a.projectsLoaded,a.metaData),o=(0,l.useState)(!1),b=(0,r.Z)(o,2),w=b[0],j=b[1];return w?(0,c.jsx)(d.Z,{handleClose:function(){return j(!1)}}):(0,c.jsx)("div",{className:"h-full min-h-screen w-screen bg-slate-300 py-20 flex",children:(0,c.jsxs)("div",{className:"flex-auto container mx-auto h-auto flex flex-col",children:[(0,c.jsxs)("div",{className:" w-full flex flex-row justify-between items-center",children:[(0,c.jsx)("h1",{className:"flex-initial font-Oswald text-5xl pb-10 uppercase",children:"projects"}),(0,c.jsx)("button",{type:"button",className:" font-Oswald uppercase font-thin bg-slate-600 text-white py-2 px-5 rounded-md",onClick:function(){return j(!0)},children:"Add Project"})]}),(0,c.jsxs)("div",{className:"flex flex-row justify-between",children:[(0,c.jsx)(m,{}),i&&(0,c.jsx)("div",{className:" max-w-md w-full",children:(0,c.jsx)(u,{metaData:i,onPageChange:function(t){return e((0,f.oW)({pageNumber:t+1}))}})})]}),(0,c.jsx)("div",{className:"relative container mx-auto flex-auto p-10 ",children:(0,c.jsx)(h,{projects:s})})]})})}}}]);
//# sourceMappingURL=18.a865580e.chunk.js.map