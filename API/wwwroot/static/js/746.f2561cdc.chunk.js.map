{"version":3,"file":"static/js/746.f2561cdc.chunk.js","mappings":"qQAAaA,EAAa,SAAbA,EAAcC,GAIvB,IAAIC,EAAc,GAGlB,IAAK,IAAMC,KAAKF,EAKZ,GAAuB,kBAAXA,EAAGE,IAAqBC,MAAMC,QAAQJ,EAAGE,IAWjDD,EAAOC,GAAKF,EAAGE,OAXuC,CACtD,IAAMG,EAAON,EAAWC,EAAGE,IAC3B,IAAK,IAAMI,KAAKD,EAGZJ,EAAOC,EAAI,IAAMI,GAAKD,EAAKC,GASvC,OAAOL,G,gDCEI,SAASM,EAAT,GAA8D,IAAxCC,EAAuC,EAAvCA,UAAWC,EAA4B,EAA5BA,SAAUC,EAAkB,EAAlBA,QAChDC,GAAYC,EAAAA,EAAAA,KAAe,SAACC,GAAD,OAAWA,EAAMC,WAA5CH,QACR,GAA4BI,EAAAA,EAAAA,UAAmC,MAA/D,eAAOC,EAAP,KAAeC,EAAf,KACMC,IAAWF,EACjB,GAA8BD,EAAAA,EAAAA,UAAgC,MAA9D,eAAOI,EAAP,KAAgBC,EAAhB,KACMC,IAAkBF,EACxB,GAA8BJ,EAAAA,EAAAA,UAA4C,IAA1E,eAAOO,EAAP,KAAgBC,EAAhB,KACA,GAOIC,EAAAA,EAAAA,IAAQ,CACVC,KAAM,QAPNC,EADF,EACEA,QACAC,EAFF,EAEEA,MACAC,EAHF,EAGEA,aACAC,EAJF,EAIEA,MACAC,EALF,EAKEA,SACaC,EANf,EAMEC,UAAaD,QAITE,EAAYN,EAAM,OAAQ,MAC1BO,GAAcC,EAAAA,EAAAA,aAAW,mCAAC,WAAOC,GAAP,kGAEPC,EAAAA,EAAAA,SAAAA,YAA2BD,GAFpB,OAEtBnC,EAFsB,OAGtBqC,EAAQrC,EAAOsC,KAAI,SAACC,GAAD,MAA4B,CACnDC,KAAMD,EAAOE,SACbC,MAAOH,EAAOI,WAEhBrB,EAAWe,GAPiB,gDAS5BO,QAAQC,IAAR,MAT4B,yDAAD,sDAW5B,IAEGC,GAAcZ,EAAAA,EAAAA,aAAW,mCAC7B,WAAOC,GAAP,gGAE0BC,EAAAA,EAAAA,SAAAA,YAA2BD,GAFrD,cAEUjB,EAFV,OAGIC,EAAWD,GACXW,EAAS,YAAaX,EAAQiB,IAJlC,SAKUF,EAAYf,EAAQiB,IAL9B,yDAOIS,QAAQC,IAAR,MAPJ,0DAD6B,sDAW7B,CAACZ,EAAaJ,IAGVkB,GAAab,EAAAA,EAAAA,aAAW,mCAAC,WAAOC,GAAP,gGAENC,EAAAA,EAAAA,QAAAA,QAAsBD,GAFhB,OAErBnC,EAFqB,OAG3BgB,EAAUhB,GACV4C,QAAQC,IAAI,SAAU7C,GAJK,gDAM3B4C,QAAQC,IAAR,MAN2B,yDAAD,sDAQ3B,KAEHG,EAAAA,EAAAA,YAAU,WACJzC,GACFuC,EAAYvC,KAEb,CAACuC,EAAavC,KAEjByC,EAAAA,EAAAA,YAAU,WACJxC,GACFuC,EAAWvC,KAEZ,CAACuC,EAAYvC,KAEhBwC,EAAAA,EAAAA,YAAU,WAKR,OAJIjC,GAAWiB,GAAcF,GAC3BF,EAAMb,GAGD,WACDiB,GAAWiB,IAAIC,gBAAgBlB,EAAUmB,YAE9C,CAACrB,EAASF,EAAOb,EAAQiB,IAE5B,IAAMoB,EAAiB,SAACZ,EAAWE,GACjCb,EAASW,EAAME,IA9EyD,wCAiF1E,WAAgCW,GAAhC,gFACOjC,EADP,oDAEUkC,EAAsBD,EAAtBC,KAAMC,EAAgBF,EAAhBE,YAERC,EAAM,CACVrB,GAAIpB,EAASA,EAAOoB,GAAK,EACzBsB,QAASJ,EAAKI,QACdC,KAAML,EAAKK,KACXC,SAAUN,EAAKM,SACfpD,UAAWW,EAAQiB,GACnByB,OAAQP,EAAKO,OACbC,iBAAkBR,EAAKQ,iBACvBN,YAAAA,GAGIO,GAfR,kBAeuBhE,EAAW0D,IAflC,IAewC,mBAAoBF,IACrDpC,EAhBP,8DAkBQD,EAlBR,kCAmBYmB,EAAAA,EAAAA,QAAAA,OAAqB0B,GAnBjC,WAsBS7C,EAtBT,kCAuBYmB,EAAAA,EAAAA,QAAAA,OAAqB0B,GAvBjC,0DA0BIlB,QAAQC,IAAR,MA1BJ,yBA4BIpC,IA5BJ,8EAjF0E,sBAiH1E,OACE,gBAAKsD,UAAU,8GAAf,UACE,iBAAKA,UAAU,4CAAf,WACE,iBAAKA,UAAU,uFAAf,WACE,cAAGA,UAAU,iCAAb,SACG9C,EAAS,cAAgB,gBAE5B,cAAG8C,UAAU,0CAAb,gBACG7C,QADH,IACGA,OADH,EACGA,EAAS8C,YAId,kBACEC,SAAUtC,GA9HwD,8CA+HlEoC,UAAU,+BAFZ,WAIE,iBAAKA,UAAU,0DAAf,WACE,iBAAKA,UAAU,6BAAf,WACE,SAAC,IAAD,CACEG,KAAK,OACLzC,QAASA,EACT0C,MAAM,eACNC,YAAY,eACZ5B,KAAK,UACL6B,MAAO,CACLC,SAAU,0BAGd,SAAC,IAAD,CACEJ,KAAK,OACLzC,QAASA,EACT0C,MAAM,mBACNC,YAAY,mBACZ5B,KAAK,iCAGP,SAAC,IAAD,CACE0B,KAAK,OACLzC,QAASA,EACT0C,MAAM,UACNC,YAAY,UACZ5B,KAAK,yBAGP,SAAC,IAAD,CACE+B,KAAM,EACNL,KAAK,OACLzC,QAASA,EACT0C,MAAM,qBACNC,YAAY,qBACZ5B,KAAK,OACL6B,MAAO,CACLC,SAAU,iCAIhB,gBAAKP,UAAU,6BAAf,UACE,iBAAKA,UAAU,kCAAf,UACG9C,IAAWF,EAAOyD,aAAP,OAAqBtD,QAArB,IAAqBA,OAArB,EAAqBA,EAASuD,aACxC,SAACC,EAAA,EAAD,CACEV,MAAM,WACN3B,OAAOsC,EAAAA,EAAAA,GAAYC,EAAAA,IACnBC,SAAU,SAACnC,GAAD,OAAWU,EAAe,WAAYV,IAChDoC,cAAa,OAAE/D,QAAF,IAAEA,OAAF,EAAEA,EAAQ4C,WAG1B1C,IAAWF,EAAOyD,aAAP,OAAqBtD,QAArB,IAAqBA,OAArB,EAAqBA,EAASuD,aACxC,SAACC,EAAA,EAAD,CACEV,MAAM,SACN3B,OAAOsC,EAAAA,EAAAA,GAAYI,EAAAA,IACnBF,SAAU,SAACnC,GAAD,OAAWU,EAAe,SAAUV,IAC9CoC,cAAa,OAAE/D,QAAF,IAAEA,OAAF,EAAEA,EAAQ6C,SAG1B3C,IAAWP,IAAO,OAAIQ,QAAJ,IAAIA,OAAJ,EAAIA,EAASuD,aAC9B,SAACC,EAAA,EAAD,CACEV,MAAM,kBACN3B,MAAOhB,EACPwD,SAAU,SAACnC,GAAD,OACRU,EAAe,mBAAoBV,IAErCoC,cAAa,OAAE/D,QAAF,IAAEA,OAAF,EAAEA,EAAQiE,kBAG3B,SAACN,EAAA,EAAD,CACEV,MAAM,aACN3B,OAAOsC,EAAAA,EAAAA,GAAYM,EAAAA,IACnBJ,SAAU,SAACnC,GAAD,OACRU,EAAe,yBAA0BV,IAE3CoC,cAAa,OAAE/D,QAAF,IAAEA,OAAF,EAAEA,EAAQwC,YAAY2B,cAErC,SAACR,EAAA,EAAD,CACEV,MAAM,WACN3B,OAAOsC,EAAAA,EAAAA,GAAYQ,EAAAA,IACnBN,SAAU,SAACnC,GAAD,OACRU,EAAe,uBAAwBV,IAEzCoC,cAAa,OAAE/D,QAAF,IAAEA,OAAF,EAAEA,EAAQwC,YAAY6B,YAErC,SAACV,EAAA,EAAD,CACEV,MAAM,SACN3B,OAAOsC,EAAAA,EAAAA,GAAYU,EAAAA,IACnBR,SAAU,SAACnC,GAAD,OACRU,EAAe,qBAAsBV,IAEvCoC,cAAa,OAAE/D,QAAF,IAAEA,OAAF,EAAEA,EAAQwC,YAAY+B,kBAM3C,iBAAKvB,UAAU,wDAAf,WACE,gBAAKA,UAAU,6FAAf,UACE,SAACwB,EAAA,EAAD,CAAe9D,QAASA,EAASe,KAAK,YAExC,gBAAKuB,UAAU,mGAAf,UACE,gBAAKA,UAAU,4CAAf,SACG/B,GACC,gBACE+B,UAAU,kDACVyB,IAAKxD,EAAUmB,QACfsC,IAAI,aAGN,gBACE1B,UAAU,kDACVyB,IAAG,OAAEzE,QAAF,IAAEA,OAAF,EAAEA,EAAQwC,YAAYmC,MACzBD,IAAG,OAAE1E,QAAF,IAAEA,OAAF,EAAEA,EAAQ0C,kBAMvB,iBAAKM,UAAU,0EAAf,WACE,kBACEA,UAAU,4GACVG,KAAK,SACLxB,MAAM,SACNiD,QAASlF,KAEX,kBACEsD,UAAU,2FACVG,KAAK,SACLxB,MAAOzB,EAAS,gBAAkB,+B,8FCjR1C2E,EACe,sDADfA,EAGF,uFAHEA,EAKF,gFALEA,EAMuB,oCANvBA,EASgB,4BAThBA,EAWF,uHAXEA,EAYU,uDAZVA,EAcF,wEAGW,SAASlB,EAAT,GAMJ,IALTV,EAKQ,EALRA,MACA3B,EAIQ,EAJRA,MAEAwC,EAEQ,EAFRA,SACAC,EACQ,EADRA,cAEA,GAA4BhE,EAAAA,EAAAA,WAAS,GAArC,eAAO+E,EAAP,KAAeC,EAAf,KACA,GAAwChF,EAAAA,EAAAA,UAG9B,MAHV,eAAOiF,EAAP,KAAqBC,EAArB,MAKAhD,EAAAA,EAAAA,YAAU,WACR,GAAI8B,GAAiC,MAAhBiB,EAAsB,CACzC,IAAME,EAAO5D,EAAM6D,MAAK,SAACjG,GAAD,OAAOA,EAAEuC,OAASsC,KAC1CkB,EAAgBC,GAAc,SAE/B,CAAC5D,EAAO0D,EAAcjB,IASzB,OACE,iBACEf,UAAS,gBACRe,EAAqC,iBAArB,mBADR,mBAETc,GAHF,WAKE,oBACE1B,KAAK,SACLH,UAAW6B,EACXD,QAAS,kBAAMG,GAAU,SAACK,GAAD,OAAWA,MAHtC,UAKGJ,GACC,eAAGhC,UAAW6B,EAAd,WACE,kBAAM7B,UAAU,sCAAhB,UACGC,EAAO,QAEV,iBAAMD,UAAU,yBAAhB,SAA0CgC,EAAavD,WAGzD,cAAGuB,UAAW6B,EAAd,SAAiD5B,KAEnD,SAAC,IAAD,CAAiBD,UAAW6B,QAG9B,gBACE7B,UAAS,UAAK8B,EAAS,SAAW,SAAzB,aACPD,GAEFzD,GAAG,WAJL,UAME,eAAI4B,UAAW6B,EAAqB,kBAAgB,WAApD,SACGvD,EAAMC,KAAI,SAAC2D,GAAD,OACT,eAEEvD,MAAOuD,EAAKvD,MACZiD,QAAS,kBAxCM,SAACM,GAC1BD,EAAgBC,GAChBpB,EAASoB,EAAKvD,OACdoD,GAAU,GAqCeM,CAAmBH,IAClClC,UAAW6B,EAJb,SAMGK,EAAKzD,MALDyD,EAAKvD,mB,qBCzFjB,IAAKuC,EAOAF,EAgBAH,EAOAO,EAOAE,E,iIArCZ,SAAYJ,GAAAA,EAAAA,EAAAA,WAAAA,GAAAA,aAAAA,EAAAA,EAAAA,SAAAA,GAAAA,WAAAA,EAAAA,EAAAA,OAAAA,GAAAA,SAAAA,EAAAA,EAAAA,KAAAA,GAAAA,OAAZ,CAAYA,IAAAA,EAAAA,KAOZ,SAAYF,GAAAA,EAAAA,EAAAA,IAAAA,GAAAA,MAAAA,EAAAA,EAAAA,SAAAA,GAAAA,WAAAA,EAAAA,EAAAA,KAAAA,GAAAA,OAAAA,EAAAA,EAAAA,MAAAA,GAAAA,QAAAA,EAAAA,EAAAA,QAAAA,GAAAA,UAAAA,EAAAA,EAAAA,OAAAA,GAAAA,SAAAA,EAAAA,EAAAA,SAAAA,GAAAA,WAAAA,EAAAA,EAAAA,OAAAA,GAAAA,SAAAA,EAAAA,EAAAA,OAAAA,GAAAA,SAAAA,EAAAA,EAAAA,UAAAA,GAAAA,YAAAA,EAAAA,EAAAA,SAAAA,IAAAA,WAAAA,EAAAA,EAAAA,SAAAA,IAAAA,WAAAA,EAAAA,EAAAA,OAAAA,IAAAA,SAAZ,CAAYA,IAAAA,EAAAA,KAgBZ,SAAYH,GAAAA,EAAAA,EAAAA,IAAAA,GAAAA,MAAAA,EAAAA,EAAAA,OAAAA,GAAAA,SAAAA,EAAAA,EAAAA,KAAAA,GAAAA,OAAAA,EAAAA,EAAAA,OAAAA,GAAAA,SAAZ,CAAYA,IAAAA,EAAAA,KAOZ,SAAYO,GAAAA,EAAAA,EAAAA,IAAAA,GAAAA,MAAAA,EAAAA,EAAAA,OAAAA,GAAAA,SAAAA,EAAAA,EAAAA,KAAAA,GAAAA,OAAAA,EAAAA,EAAAA,SAAAA,GAAAA,WAAZ,CAAYA,IAAAA,EAAAA,KAOZ,SAAYE,GAAAA,EAAAA,EAAAA,WAAAA,GAAAA,aAAAA,EAAAA,EAAAA,YAAAA,GAAAA,cAAAA,EAAAA,EAAAA,UAAAA,GAAAA,YAAAA,EAAAA,EAAAA,cAAAA,GAAAA,gBAAAA,EAAAA,EAAAA,SAAAA,GAAAA,WAAZ,CAAYA,IAAAA,EAAAA,M,kECrCL,SAASV,EAAY0B,GAGxB,IAFA,IAAMC,EAAe,GAErB,MAA2CC,OAAOC,QAAQH,GAA1D,eAAmE,CAA9D,sBAAOI,EAAP,KAAoBC,EAApB,KACIC,OAAOC,MAAMD,OAAOF,KAGzBH,EAAaO,KAAK,CAAErE,KAAMiE,EAAa/D,MAAOgE,IAElD,OAAOJ,I,mCCOX,IAAMQ,EAAaC,EAAAA,YAdnB,SAAyBC,EAAOC,GAC9B,OAAoBF,EAAAA,cAAoB,MAAOR,OAAOW,OAAO,CAC3DC,MAAO,6BACPC,QAAS,YACTC,KAAM,eACN,cAAe,OACfC,IAAKL,GACJD,GAAqBD,EAAAA,cAAoB,OAAQ,CAClDQ,SAAU,UACVC,EAAG,qHACHC,SAAU,gBAKd","sources":["app/util/flattenObject.ts","app/components/Tickets/TicketForm.tsx","app/components/common/Dropdown.tsx","app/models/enums.ts","app/util/enumToArray.ts","../node_modules/@heroicons/react/solid/esm/ChevronDownIcon.js"],"sourcesContent":["export const flattenObj = (ob: any) => {\n\n    // The object which contains the\n    // final result\n    let result: any = {};\n\n    // loop through the object \"ob\"\n    for (const i in ob) {\n\n        // We check the type of the i using\n        // typeof() function and recursively\n        // call the function again\n        if ((typeof ob[i]) === 'object' && !Array.isArray(ob[i])) {\n            const temp = flattenObj(ob[i]);\n            for (const j in temp) {\n\n                // Store temp in result\n                result[i + '.' + j] = temp[j];\n            }\n        }\n\n        // Else store ob[i] in result directly\n        else {\n            result[i] = ob[i];\n        }\n    }\n    return result;\n};","import { useCallback, useEffect, useState } from \"react\";\nimport { FieldValues, useForm } from \"react-hook-form\";\nimport agent from \"../../api/agent\";\nimport {\n  IssueNature,\n  IssueOccurrence,\n  IssueSeverity,\n  TicketPriority,\n  TicketStatus,\n} from \"../../models/enums\";\nimport { ProjectMember } from \"../../models/member\";\nimport { Project, ProjectDetails } from \"../../models/project\";\nimport { ProjectTicketFull } from \"../../models/ticket\";\nimport { useAppSelector } from \"../../store/configureStore\";\nimport { EnumToArray } from \"../../util/enumToArray\";\nimport { flattenObj } from \"../../util/flattenObject\";\nimport Dropdown from \"../common/Dropdown\";\nimport MediaDropZone from \"../common/MediaDropZone\";\nimport AppTextArea from \"../common/TextArea\";\nimport AppTextInput from \"../common/TextInput\";\n\ninterface Props {\n  projectId: string;\n  ticketId?: number | null;\n  isFullScreen?: boolean;\n  onClose: () => void;\n}\n\nexport default function TicketForm({ projectId, ticketId, onClose }: Props) {\n  const { isAdmin } = useAppSelector((state) => state.account);\n  const [ticket, setTicket] = useState<ProjectTicketFull | null>(null);\n  const isEdit = !!ticket;\n  const [project, setProject] = useState<ProjectDetails | null>(null);\n  const projectLoaded = !!project;\n  const [members, setMembers] = useState<{ name: string; value: string }[]>([]);\n  const {\n    control,\n    watch,\n    handleSubmit,\n    reset,\n    setValue,\n    formState: { isDirty },\n  } = useForm({\n    mode: \"all\",\n  });\n  const watchFile = watch(\"file\", null);\n  const loadMembers = useCallback(async (id: string) => {\n    try {\n      const result = await agent.Projects.listMembers(id);\n      const items = result.map((member: ProjectMember) => ({\n        name: member.userName,\n        value: member.userId,\n      }));\n      setMembers(items);\n    } catch (error) {\n      console.log(error);\n    }\n  }, []);\n\n  const loadProject = useCallback(\n    async (id: string) => {\n      try {\n        const project = await agent.Projects.detailsById(id);\n        setProject(project);\n        setValue(\"projectId\", project.id);\n        await loadMembers(project.id);\n      } catch (error) {\n        console.log(error);\n      }\n    },\n    [loadMembers, setValue]\n  );\n\n  const loadTicket = useCallback(async (id: number) => {\n    try {\n      const result = await agent.Tickets.details(id);\n      setTicket(result);\n      console.log(\"ticket\", result);\n    } catch (error) {\n      console.log(error);\n    }\n  }, []);\n\n  useEffect(() => {\n    if (projectId) {\n      loadProject(projectId);\n    }\n  }, [loadProject, projectId]);\n\n  useEffect(() => {\n    if (ticketId) {\n      loadTicket(ticketId);\n    }\n  }, [loadTicket, ticketId]);\n\n  useEffect(() => {\n    if (ticket && !watchFile && !isDirty) {\n      reset(ticket);\n    }\n\n    return () => {\n      if (watchFile) URL.revokeObjectURL(watchFile.preview);\n    };\n  }, [isDirty, reset, ticket, watchFile]);\n\n  const handleOnChange = (name: any, value: any) => {\n    setValue(name, value);\n  };\n\n  async function handleSubmitData(data: FieldValues) {\n    if (!projectLoaded) return;\n    const { file, description } = data; //{ ...data, projectId: project.id };\n\n    const obj = {\n      id: ticket ? ticket.id : 0,\n      subject: data.subject,\n      body: data.body,\n      priority: data.priority,\n      projectId: project.id,\n      status: data.status,\n      assignedMemberId: data.assignedMemberId,\n      description,\n    };\n\n    const flatObj = { ...flattenObj(obj), \"description.file\": file };\n    if (!project) return;\n    try {\n      if (isEdit) {\n        await agent.Tickets.update(flatObj);\n      }\n\n      if (!isEdit) {\n        await agent.Tickets.create(flatObj);\n      }\n    } catch (error) {\n      console.log(error);\n    } finally {\n      onClose();\n    }\n  }\n\n  return (\n    <div className=\"lg:fixed top-0 left-0 h-full min-h-screen w-screen bg-slate-100 z-[5] px-5 lg:px-0 flex items-center  py-20\">\n      <div className=\"container mx-auto flex flex-col max-w-4xl\">\n        <div className=\"flex flex-col lg:flex-row justify-between border-b border-b-white py-1 lg:items-end \">\n          <p className=\"font-Oswald text-5xl uppercase\">\n            {isEdit ? \"Edit Ticket\" : \"New Ticket\"}\n          </p>\n          <p className=\"font-Oswald text-xl uppercase font-thin\">\n            {project?.title}\n          </p>\n        </div>\n\n        <form\n          onSubmit={handleSubmit(handleSubmitData)}\n          className=\"w-full flex flex-col gap-y-5\"\n        >\n          <div className=\"grid grid-cols-1 lg:grid-cols-2 text-black  lg:gap-x-10\">\n            <div className=\"flex flex-col gap-y-5 py-5\">\n              <AppTextInput\n                type=\"text\"\n                control={control}\n                label=\"Ticket Title\"\n                placeholder=\"Ticket Title\"\n                name=\"subject\"\n                rules={{\n                  required: \"Subject is required\",\n                }}\n              />\n              <AppTextInput\n                type=\"text\"\n                control={control}\n                label=\"Operating System\"\n                placeholder=\"Operating System\"\n                name=\"description.operatingSystem\"\n              />\n\n              <AppTextInput\n                type=\"text\"\n                control={control}\n                label=\"Browser\"\n                placeholder=\"Browser\"\n                name=\"description.browser\"\n              />\n\n              <AppTextArea\n                rows={7}\n                type=\"text\"\n                control={control}\n                label=\"Ticket Description\"\n                placeholder=\"Ticket Description\"\n                name=\"body\"\n                rules={{\n                  required: \"Description is required\",\n                }}\n              />\n            </div>\n            <div className=\"flex flex-col gap-y-5 py-5\">\n              <div className=\" w-full flex flex-col  gap-y-5 \">\n                {isEdit && (ticket.isAssigned || project?.isLeader) && (\n                  <Dropdown\n                    title=\"Priority\"\n                    items={EnumToArray(TicketPriority)}\n                    onChange={(value) => handleOnChange(\"priority\", value)}\n                    selectedValue={ticket?.priority}\n                  />\n                )}\n                {isEdit && (ticket.isAssigned || project?.isLeader) && (\n                  <Dropdown\n                    title=\"Status\"\n                    items={EnumToArray(TicketStatus)}\n                    onChange={(value) => handleOnChange(\"status\", value)}\n                    selectedValue={ticket?.status}\n                  />\n                )}\n                {isEdit && (isAdmin || project?.isLeader) && (\n                  <Dropdown\n                    title=\"Assigned Member\"\n                    items={members}\n                    onChange={(value) =>\n                      handleOnChange(\"assignedMemberId\", value)\n                    }\n                    selectedValue={ticket?.assignedMember}\n                  />\n                )}\n                <Dropdown\n                  title=\"Occurrence\"\n                  items={EnumToArray(IssueOccurrence)}\n                  onChange={(value) =>\n                    handleOnChange(\"description.occurrence\", value)\n                  }\n                  selectedValue={ticket?.description.occurrence}\n                />\n                <Dropdown\n                  title=\"Severity\"\n                  items={EnumToArray(IssueSeverity)}\n                  onChange={(value) =>\n                    handleOnChange(\"description.severity\", value)\n                  }\n                  selectedValue={ticket?.description.severity}\n                />\n                <Dropdown\n                  title=\"Nature\"\n                  items={EnumToArray(IssueNature)}\n                  onChange={(value) =>\n                    handleOnChange(\"description.nature\", value)\n                  }\n                  selectedValue={ticket?.description.nature}\n                />\n              </div>\n            </div>\n          </div>\n\n          <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-x-10 lg:h-[200px]\">\n            <div className=\"h-auto border-x-2 px-5 py-5 border-x-white text-white bg-slate-500 bg-opacity-50 flex-auto\">\n              <MediaDropZone control={control} name=\"file\" />\n            </div>\n            <div className=\"flex flex-row h-full w-full border-x-2 px-5 border-x-white text-white bg-slate-500 bg-opacity-50\">\n              <div className=\" mx-auto flex items-center justify-center\">\n                {watchFile ? (\n                  <img\n                    className=\" object-auto w-auto object-center max-h-[200px]\"\n                    src={watchFile.preview}\n                    alt=\"preview\"\n                  />\n                ) : (\n                  <img\n                    className=\" object-auto w-auto object-center max-h-[200px]\"\n                    src={ticket?.description.photo}\n                    alt={ticket?.subject}\n                  />\n                )}\n              </div>\n            </div>\n          </div>\n          <div className=\"flex flex-row gap-x-0 mx-auto w-full justify-center lg:justify-end py-5\">\n            <input\n              className=\"cursor-pointer border-slate-800 border-2 text-slate-800 py-1 px-5 uppercase font-Oswald text-xl font-thin\"\n              type=\"button\"\n              value=\"Cancel\"\n              onClick={onClose}\n            />\n            <input\n              className=\"cursor-pointer bg-slate-800 text-white py-1 px-5 uppercase font-Oswald text-xl font-thin\"\n              type=\"submit\"\n              value={isEdit ? \"Update Ticket\" : \"Create Ticket\"}\n            />\n          </div>\n        </form>\n      </div>\n    </div>\n  );\n}\n","import { ChevronDownIcon } from \"@heroicons/react/solid\";\nimport { useEffect, useState } from \"react\";\n\ninterface Props {\n  title: string;\n  items: { name: string; value: string | number }[];\n  //fullWidth?: boolean;\n  onChange: (value: any) => void;\n  selectedValue: any;\n  addAllItem?: boolean;\n}\n\nconst styles = {\n  dropdownContainer: \"relative border-x-2 border-x-slate-200 bg-slate-200\",\n  dropdownButton:\n    \"pb-2 pt-3 px-5 font-Oswald font-thin inline-flex justify-between items-center w-full\",\n  dropdownButtonText:\n    \"flex flex-row items-center justify-between w-full gap-x-5 text-lg lg:text-2xl\",\n  dropdownButtonPlaceholder: \"text-lg lg:text-2xl text-gray-400\",\n  inputValidationStyle:\n    \"h-auto font-Oswald text-lg leading-none w-full font-thin px-5 py-0 text-gray-600\",\n  dropdownButtonIcon: \"w-8 h-8 ml-2 text-inherit\",\n  dropdownListContainer:\n    \"absolute bg-white text-base z-50 drop-shadow-md list-none divide-y  divide-gray-100 rounded shadow my-4  w-full px-5\",\n  dropdownList: \"py-5 list-none flex flex-col gap-y-2 font-Montserrat\",\n  dropdownListItem:\n    \"font-Montserrat text-left text-black text-lg font-thin cursor-pointer\",\n};\n\nexport default function Dropdown({\n  title,\n  items,\n  //fullWidth = false,\n  onChange,\n  selectedValue,\n}: Props) {\n  const [isOpen, setIsOpen] = useState(false);\n  const [selectedItem, setSelectedItem] = useState<{\n    name: string;\n    value: string | number;\n  } | null>(null);\n\n  useEffect(() => {\n    if (selectedValue && selectedItem == null) {\n      const item = items.find((i) => i.name === selectedValue);\n      setSelectedItem(item ? item : null);\n    }\n  }, [items, selectedItem, selectedValue]);\n\n  type ItemType = { name: string; value: string | number };\n\n  const handleOnSelectItem = (item: ItemType) => {\n    setSelectedItem(item);\n    onChange(item.value);\n    setIsOpen(false);\n  };\n  return (\n    <div\n      className={`\n    ${!selectedValue ? \"border-x-red-500\" : \"border-x-white\"}  \n    ${styles.dropdownContainer}`}\n    >\n      <button\n        type=\"button\"\n        className={styles.dropdownButton}\n        onClick={() => setIsOpen((prev) => !prev)}\n      >\n        {selectedItem ? (\n          <p className={styles.dropdownButtonText}>\n            <span className=\"text-gray-500  text-xl  capitalize \">\n              {title}{\" \"}\n            </span>\n            <span className=\"uppercase text-inherit\">{selectedItem.name}</span>\n          </p>\n        ) : (\n          <p className={styles.dropdownButtonPlaceholder}>{title}</p>\n        )}\n        <ChevronDownIcon className={styles.dropdownButtonIcon} />\n      </button>\n\n      <div\n        className={`${isOpen ? \"block \" : \"hidden\"}  ${\n          styles.dropdownListContainer\n        }`}\n        id=\"dropdown\"\n      >\n        <ul className={styles.dropdownList} aria-labelledby=\"dropdown\">\n          {items.map((item) => (\n            <li\n              key={item.value}\n              value={item.value}\n              onClick={() => handleOnSelectItem(item)}\n              className={styles.dropdownListItem}\n            >\n              {item.name}\n            </li>\n          ))}\n        </ul>\n      </div>\n    </div>\n  );\n}\n","export enum IssueOccurrence {\n    Persistent,\n    Frequent,\n    Random,\n    Rare\n}\n\nexport enum TicketStatus {\n    New,\n    Assigned,\n    Open,\n    Fixed,\n    Pending,\n    Retest,\n    Verified,\n    Reopen,\n    Closed,\n    Duplicate,\n    Rejected,\n    Deferred,\n    NotBug\n}\n\nexport enum TicketPriority {\n    Low,\n    Medium,\n    High,\n    Urgent\n}\n\nexport enum IssueSeverity {\n    Low,\n    Medium,\n    High,\n    Critical\n}\n\nexport enum IssueNature {\n    Functional,\n    Performance,\n    Usability,\n    Compatibility,\n    Security\n}","export function EnumToArray(object: any): { name: string, value: any }[] {\n    const arrayObjects = [];\n\n    for (const [propertyKey, propertyValue] of Object.entries(object)) {\n        if (!Number.isNaN(Number(propertyKey))) {\n            continue;\n        }\n        arrayObjects.push({ name: propertyKey, value: propertyValue });\n    }\n    return arrayObjects;\n}","import * as React from \"react\";\n\nfunction ChevronDownIcon(props, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 20 20\",\n    fill: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    ref: svgRef\n  }, props), /*#__PURE__*/React.createElement(\"path\", {\n    fillRule: \"evenodd\",\n    d: \"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z\",\n    clipRule: \"evenodd\"\n  }));\n}\n\nconst ForwardRef = React.forwardRef(ChevronDownIcon);\nexport default ForwardRef;"],"names":["flattenObj","ob","result","i","Array","isArray","temp","j","TicketForm","projectId","ticketId","onClose","isAdmin","useAppSelector","state","account","useState","ticket","setTicket","isEdit","project","setProject","projectLoaded","members","setMembers","useForm","mode","control","watch","handleSubmit","reset","setValue","isDirty","formState","watchFile","loadMembers","useCallback","id","agent","items","map","member","name","userName","value","userId","console","log","loadProject","loadTicket","useEffect","URL","revokeObjectURL","preview","handleOnChange","data","file","description","obj","subject","body","priority","status","assignedMemberId","flatObj","className","title","onSubmit","type","label","placeholder","rules","required","rows","isAssigned","isLeader","Dropdown","EnumToArray","TicketPriority","onChange","selectedValue","TicketStatus","assignedMember","IssueOccurrence","occurrence","IssueSeverity","severity","IssueNature","nature","MediaDropZone","src","alt","photo","onClick","styles","isOpen","setIsOpen","selectedItem","setSelectedItem","item","find","prev","handleOnSelectItem","object","arrayObjects","Object","entries","propertyKey","propertyValue","Number","isNaN","push","ForwardRef","React","props","svgRef","assign","xmlns","viewBox","fill","ref","fillRule","d","clipRule"],"sourceRoot":""}