"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[311],{4949:function(e,t,l){l.d(t,{Z:function(){return c}});var r=l(1413),n=l(1134),s=l(184),a="w-full border-x-2 border-x-black h-full  bg-slate-200 flex flex-col lg:flex-row items-center",i="font-Montserrat resize-none font-thin text-base lg:text-xl text-inherit placeholder:text-gray-500 placeholder:font-Oswald pb-2 pt-3 px-5 w-full h-full block bg-transparent focus-within:outline-none",o="h-auto font-Oswald text-xl leading-none w-full font-thin px-5 py-5 lg:py-0 text-gray-200";function c(e){var t=(0,n.bc)((0,r.Z)((0,r.Z)({},e),{},{defaultValue:""})),l=t.fieldState,c=t.field;return(0,s.jsxs)("div",{className:"\n      ".concat(l.error?"border-x-red-500":"border-x-inherit","  \n      ").concat(a),children:[(0,s.jsx)("textarea",(0,r.Z)((0,r.Z)({className:i,"aria-label":e.label,type:e.type},e),c)),l.error&&(0,s.jsx)("p",{className:o,children:l.error.message})]})}},2990:function(e,t,l){l.d(t,{Z:function(){return c}});var r=l(1413),n=l(1134),s=l(184),a="w-full border-x-2 border-x-black bg-slate-200 flex flex-row items-center ",i=" font-Montserrat font-thin text-base lg:text-xl text-inherit placeholder:capitalize placeholder:text-gray-500  placeholder:font-Oswald pb-2 pt-3 px-5 w-full h-auto block bg-transparent focus-within:outline-none",o=" h-auto font-Oswald text-xl leading-none w-full text-left font-thin px-5 py-0 text-gray-200 ";function c(e){var t=(0,n.bc)((0,r.Z)((0,r.Z)({},e),{},{defaultValue:""})),l=t.fieldState,c=t.field;return(0,s.jsxs)("div",{className:" ".concat(l.error?"border-r-red-500":"border-x-inherit "," ").concat(a),children:[(0,s.jsx)("input",(0,r.Z)((0,r.Z)({className:"".concat(i),"aria-label":e.label,type:e.type},e),c)),l.error&&(0,s.jsx)("p",{className:o,children:l.error.message})]})}},3957:function(e,t,l){l.d(t,{Z:function(){return h}});l(1413),l(5861);var r=l(885),n=(l(7757),l(2791)),s=l(1134),a=l(260),i=(l(3453),l(6474)),o=l(8222),c=l(1690),d=l(4949),u=l(2990);l(2982);var x=n.forwardRef((function(e,t){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),n.createElement("path",{fillRule:"evenodd",d:"M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z",clipRule:"evenodd"}))})),f=l(184);function p(e){e.isEdit,e.projectId,e.members,e.setMembers;var t=(0,n.useState)([]),l=(0,r.Z)(t,2),s=l[0],i=l[1],o=(0,n.useState)(!1),c=(0,r.Z)(o,2),d=c[0],u=c[1],p=(0,n.useState)(!1),h=(0,r.Z)(p,2),m=(h[0],h[1]),j=(0,n.useState)([]),b=(0,r.Z)(j,2),w=b[0],g=(b[1],(0,n.useState)([])),v=(0,r.Z)(g,2);v[0],v[1];(0,n.useEffect)((function(){d||(m(!0),a.Z.Account.listAll().then((function(e){i(e),u(!0)})).catch((function(e){return console.log(e)})).finally((function(){return m(!1)})))}),[d]);if(d&&0===s.length)return(0,f.jsx)("p",{children:"no users"});var y="list-none flex flex-col flex-wrap gap-2",N="relative bg-slate-200 px-3 rounded-sm flex flex-row justify-start items-center w-full h-auto",Z="font-Oswald font-thin text-2xl";return(0,f.jsx)("div",{className:"w-full h-full bg-slate-100 overflow-hidden py-5",children:(0,f.jsx)("ul",{className:y,children:s.map((function(e){return(0,f.jsxs)("li",{className:"".concat(N," py-2 pl-5 pr-10"),children:[(0,f.jsxs)("div",{className:"w-full",children:[(0,f.jsx)("p",{className:"".concat(Z," w-full"),children:e.displayName}),(0,f.jsx)("p",{className:" font-Montserrat font-thin text-gray-500 uppercase",children:e.title})]}),(t=e.id,w.some((function(e){return e===t}))?(0,f.jsx)("p",{className:" font-Oswald font-thin text-lg text-gray-500",children:"Added"}):(0,f.jsx)("button",{type:"button",title:"add member",onClick:function(){},className:"",children:(0,f.jsx)(x,{className:"h-6 w-6"})}))]},e.id);var t}))})})}function h(e){var t=e.project,l=e.handleClose,a=(0,n.useState)(null),x=(0,r.Z)(a,2),h=x[0],m=x[1],j=(0,n.useState)([]),b=(0,r.Z)(j,2),w=b[0],g=b[1],v=!!t,y=((0,o.Z)("(max-width: 1024px)"),(0,s.cI)({mode:"all"})),N=y.control,Z=y.watch,k=(y.handleSubmit,y.reset),O=y.formState,S=O.isSubmitting,C=O.isDirty,E=Z("file",null);(0,i.TL)();return(0,n.useEffect)((function(){if(t&&(m(t.id),!E&&!C)){var e={title:t.title,description:t.description};k(e,{keepTouched:!0})}return function(){E&&URL.revokeObjectURL(E.preview)}}),[k,E,C,t]),(0,f.jsx)("div",{className:"w-screen min-h-screen h-full py-16 bg-slate-100",children:(0,f.jsxs)("div",{className:"container mx-auto px-5",children:[(0,f.jsx)("div",{className:"container mx-auto py-5 border-b-2 border-b-black px-5 lg:px-0 ",children:(0,f.jsx)("p",{className:" font-Oswald text-5xl",children:S?"Please wait":v?"Edit Project":"New Project"})}),(0,f.jsx)("div",{children:(0,f.jsx)("form",{className:"py-10",children:(0,f.jsxs)("div",{className:"grid lg:grid-cols-2 gap-10",children:[(0,f.jsxs)("div",{className:"flex flex-col gap-y-5 max-w-xl w-full mx-auto",children:[(0,f.jsx)("p",{className:"font-Oswald text-3xl font-thin pb-4",children:"Project Info"}),(0,f.jsx)(u.Z,{control:N,name:"title",label:"Title",placeholder:"Title",rules:{required:"Title is required"}}),(0,f.jsx)(d.Z,{name:"description",placeholder:"Description",label:"Description",rows:7,control:N,rules:{required:"Description is required"}}),(0,f.jsx)("div",{className:"h-auto border-x-2 p-5  border-x-black  bg-slate-200 flex-auto",children:(0,f.jsx)(c.Z,{control:N,name:"file"})}),(0,f.jsx)("div",{className:"flex flex-row h-full w-full border-x-2 px-5 border-x-black  bg-slate-200",children:(0,f.jsx)("div",{className:" mx-auto flex items-center justify-center",children:E?(0,f.jsx)("img",{className:" object-auto w-auto object-center max-h-[200px]",src:E.preview,alt:"preview"}):(0,f.jsx)("img",{className:" object-auto w-auto object-center max-h-[200px]",src:null===t||void 0===t?void 0:t.photo,alt:null===t||void 0===t?void 0:t.title})})}),(0,f.jsxs)("div",{className:"flex flex-row gap-x-0 mx-auto w-full justify-center py-5",children:[(0,f.jsx)("input",{className:"cursor-pointer border-slate-800 border-2 text-slate-800 py-1 px-5 uppercase font-Oswald text-xl font-thin",type:"button",value:"Cancel",onClick:function(){return l()}}),(0,f.jsx)("input",{className:"cursor-pointer bg-slate-800 text-white py-1 px-5 uppercase font-Oswald text-xl font-thin",type:"submit",value:v?"Update Project":"Create Project"})]})]}),(0,f.jsxs)("div",{children:[(0,f.jsx)("p",{className:"font-Oswald text-3xl font-thin pb-4",children:"Members"}),(0,f.jsx)(p,{projectId:h,isEdit:v,members:w,setMembers:g})]})]})})})]})})}},5311:function(e,t,l){l.r(t),l.d(t,{default:function(){return w}});var r=l(885),n=l(6437),s=l(870),a=l(2791),i=l(6871),o=l(260),c=l(6823),d=l(3957),u=l(6474),x=l(184),f=(0,a.lazy)((function(){return l.e(552).then(l.bind(l,2552))})),p=(0,a.lazy)((function(){return l.e(716).then(l.bind(l,5716))})),h=(0,a.lazy)((function(){return l.e(38).then(l.bind(l,3038))})),m=(0,a.lazy)((function(){return l.e(852).then(l.bind(l,2852))})),j=(0,a.lazy)((function(){return l.e(271).then(l.bind(l,2271))})),b=(0,a.lazy)((function(){return l.e(258).then(l.bind(l,2258))}));function w(){var e=(0,i.s0)(),t=(0,u.CG)((function(e){return e.account})),l=t.user,w=t.isAdmin,g=(0,i.UO)().slug,v=(0,a.useState)(void 0),y=(0,r.Z)(v,2),N=y[0],Z=y[1],k=(0,a.useState)(!1),O=(0,r.Z)(k,2),S=O[0],C=O[1],E=(0,a.useState)(!1),z=(0,r.Z)(E,2),M=z[0],P=z[1],R=(0,a.useState)(!1),I=(0,r.Z)(R,2),L=I[0],V=I[1],A=(0,a.useState)(!1),T=(0,r.Z)(A,2),D=T[0],H=T[1];(0,a.useEffect)((function(){l&&N&&P(l.roles.includes("Admin")||N.isLeader)}),[N,l]),(0,a.useEffect)((function(){return C(!0),g&&o.Z.Projects.details(g).then((function(e){Z(e)})).catch((function(e){return console.log(e)})).finally((function(){return C(!1)})),function(){Z(void 0)}}),[g]);return S?(0,x.jsx)(c.Z,{message:"Loading Project, please wait..."}):N?L?(0,x.jsx)(d.Z,{project:N,handleClose:function(){return V(!1)}}):D?(0,x.jsx)("div",{className:"h-screen w-screen bg-slate-100 flex items-center justify-center",children:(0,x.jsxs)("div",{className:"bg-white h-auto max-w-lg w-full p-5 lg:p-10 rounded-lg drop-shadow-md",children:[(0,x.jsx)("p",{className:" font-Oswald text-2xl uppercase font-thin border-b-2 border-b-red-500",children:"Attention"}),(0,x.jsx)("p",{className:" font-Montserrat text-lg py-5",children:"This Project will be deleted permanently, do you want to proceed?"}),(0,x.jsxs)("div",{className:"flex flex-row gap-x-5 mx-auto w-full justify-center lg:justify-end ",children:[(0,x.jsx)("button",{className:"cursor-pointer border-slate-800 border-2 text-slate-800 py-1 px-5 uppercase font-Oswald text-xl font-thin",type:"button",onClick:function(){return H(!1)},children:"No"}),(0,x.jsx)("button",{className:"cursor-pointer bg-red-600 text-white py-1 px-5 uppercase font-Oswald text-xl font-thin",type:"button",onClick:function(){return t=N.id,void o.Z.Projects.delete(t).then((function(){H(!1),e("/projects")}));var t},children:"Yes"})]})]})}):(0,x.jsx)("div",{className:" w-full h-full min-h-screen bg-slate-100 pt-16 lg:pt-20",children:(0,x.jsxs)("div",{className:"container mx-auto flex flex-col gap-y-5 py-10",children:[(0,x.jsxs)("div",{className:"px-5 flex flex-row justify-end items-start gap-x-5 py-3",children:[(w||N.isLeader)&&(0,x.jsxs)("button",{className:"flex flex-row gap-x-2 items-center",onClick:function(){return V(!0)},children:[(0,x.jsx)(n.Z,{className:"h-6 w-6"}),(0,x.jsx)("p",{className:" font-Oswald text-lg font-thin uppercase",children:"Edit"})]}),w&&(0,x.jsxs)("button",{className:"flex flex-row gap-x-2 items-center",onClick:function(){return H(!0)},children:[(0,x.jsx)(s.Z,{className:"h-6 w-6 text-red-600"}),(0,x.jsx)("p",{className:" font-Oswald text-lg font-thin uppercase",children:"Delete"})]})]}),(0,x.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-5",children:[(0,x.jsx)("div",{className:" w-full h-full px-5 py-10 lg:p-10 bg-white text-black drop-shadow-md",children:(0,x.jsx)(f,{project:N})}),(0,x.jsx)("div",{className:" w-full h-auto px-5 py-10 lg:p-10 bg-white text-black drop-shadow-md",children:(0,x.jsx)(p,{project:N})}),(0,x.jsx)("div",{className:" w-full h-auto px-5 py-10 lg:p-10 bg-white text-black drop-shadow-md",children:(0,x.jsx)(m,{projectId:N.id})})]}),(0,x.jsx)("div",{className:" w-full py-10 lg:p-10 bg-white text-black drop-shadow-md h-auto",children:(0,x.jsx)(h,{projectId:N.id,projectSlug:N.slug,isPermitted:M})}),(0,x.jsxs)("div",{className:" w-full py-10 lg:p-10 bg-white text-black drop-shadow-md h-auto",children:[console.log(N),(0,x.jsx)(b,{projectId:N.id,projectSlug:N.slug,isPermitted:M||N.isMember})]}),(0,x.jsx)("div",{className:" w-full py-10 lg:p-10 bg-white text-black drop-shadow-md h-auto",children:(0,x.jsx)(j,{projectId:N.id,projectSlug:N.slug,isPermitted:M})})]})}):(0,x.jsx)("div",{className:"py-20 w-screen h-screen bg-slate-300 flex items-center justify-center",children:(0,x.jsx)("p",{className:" font-Montserrat text-xl",children:"Cant find Project"})})}},6437:function(e,t,l){var r=l(2791);var n=r.forwardRef((function(e,t){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),r.createElement("path",{d:"M17.414 2.586a2 2 0 00-2.828 0L7 10.172V13h2.828l7.586-7.586a2 2 0 000-2.828z"}),r.createElement("path",{fillRule:"evenodd",d:"M2 6a2 2 0 012-2h4a1 1 0 010 2H4v10h10v-4a1 1 0 112 0v4a2 2 0 01-2 2H4a2 2 0 01-2-2V6z",clipRule:"evenodd"}))}));t.Z=n},870:function(e,t,l){var r=l(2791);var n=r.forwardRef((function(e,t){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),r.createElement("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z",clipRule:"evenodd"}))}));t.Z=n}}]);
//# sourceMappingURL=311.3f3b4fe2.chunk.js.map